(function(){function aa(){return function(a){return a}}function ba(){return function(){}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var f,h=this;function ea(){}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return"array"==fa(a)}function ha(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function l(a){return"string"==typeof a}function ia(a){return a[ja]||(a[ja]=++ka)}var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}
function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function na(a,b,c){na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return na.apply(null,arguments)}var oa=Date.now||function(){return+new Date};
function q(a,b){function c(){}c.prototype=b.prototype;a.J=b.prototype;a.prototype=new c;a.prototype.constructor=a};var v={a:{}};v.a.k={Nc:"http://api.qudian.so",Mc:"http://api.qudian.so/static/cors/cors.html",Hi:"http://api.qudian.so/static/cors/cookie.html",Ii:".qudian.so",mi:!1,sf:2592E3,cg:90,bg:110,Gi:0.8,ae:0.618034,$f:0.1,ag:80,Ji:{Ea:0,kb:1,Ic:2,zi:4}};function qa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ra(a){return a[a.length-1]}
var w=Array.prototype,sa=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(l(a))return l(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=l(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},ta=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,k=l(a)?
a.split(""):a,m=0;m<d;m++)if(m in k){var p=k[m];b.call(c,p,m,a)&&(e[g++]=p)}return e},ua=w.map?function(a,b,c){return w.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=l(a)?a.split(""):a,k=0;k<d;k++)k in g&&(e[k]=b.call(c,g[k],k,a));return e},va=w.some?function(a,b,c){return w.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=l(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return!0;return!1},wa=w.every?function(a,b,c){return w.every.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=l(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return!1;return!0};function xa(a,b){var c;a:{c=a.length;for(var d=l(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:l(a)?a.charAt(c):a[c]}function ya(a){return w.concat.apply(w,arguments)}function za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Aa;function Ba(a){var b=Ca,c;for(c in b)a.call(void 0,b[c],c,b)}function Ea(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function Fa(){var a=Ca,b;for(b in a)return!1;return!0}function Ga(a){var b={},c;for(c in a)b[c]=a[c];return b}var Ha="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ia(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<Ha.length;g++)c=Ha[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ja,Ka,La,Ma,Na,Oa;function Pa(){return h.navigator?h.navigator.userAgent:null}function Qa(){return h.navigator}Ma=La=Ka=Ja=!1;var Ra;if(Ra=Pa()){var Sa=Qa();Ja=0==Ra.lastIndexOf("Opera",0);Ka=!Ja&&(-1!=Ra.indexOf("MSIE")||-1!=Ra.indexOf("Trident"));(La=!Ja&&-1!=Ra.indexOf("WebKit"))&&Ra.indexOf("Mobile");Ma=!Ja&&!La&&!Ka&&"Gecko"==Sa.product}var Ta=Ja,y=Ka,z=Ma,B=La,Va,Wa=Qa();Va=Wa&&Wa.platform||"";Na=-1!=Va.indexOf("Mac");Va.indexOf("Win");Va.indexOf("Linux");
Oa=!!Qa()&&-1!=(Qa().appVersion||"").indexOf("X11");var Xa=Pa();Xa&&Xa.indexOf("Android");Xa&&Xa.indexOf("iPhone");Xa&&Xa.indexOf("iPad");function Ya(){var a=h.document;return a?a.documentMode:void 0}var Za;a:{var $a="",ab;if(Ta&&h.opera)var bb=h.opera.version,$a="function"==typeof bb?bb():bb;else if(z?ab=/rv\:([^\);]+)(\)|;)/:y?ab=/\b(?:MSIE|rv)\s+([^\);]+)(\)|;)/:B&&(ab=/WebKit\/(\S+)/),ab)var cb=ab.exec(Pa()),$a=cb?cb[1]:"";if(y){var db=Ya();if(db>parseFloat($a)){Za=String(db);break a}}Za=$a}
var eb={};
function C(a){var b;if(!(b=eb[a])){b=0;for(var c=qa(String(Za)).split("."),d=qa(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var k=c[g]||"",m=d[g]||"",p=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var n=p.exec(k)||["","",""],r=s.exec(m)||["","",""];if(0==n[0].length&&0==r[0].length)break;b=((0==n[1].length?0:parseInt(n[1],10))<(0==r[1].length?0:parseInt(r[1],10))?-1:(0==n[1].length?0:parseInt(n[1],10))>(0==r[1].length?0:parseInt(r[1],10))?1:0)||((0==n[2].length)<
(0==r[2].length)?-1:(0==n[2].length)>(0==r[2].length)?1:0)||(n[2]<r[2]?-1:n[2]>r[2]?1:0)}while(0==b)}b=eb[a]=0<=b}return b}var fb=h.document,gb=fb&&y?Ya()||("CSS1Compat"==fb.compatMode?parseInt(Za,10):5):void 0;function hb(a,b){this.width=a;this.height=b}f=hb.prototype;f.clone=function(){return new hb(this.width,this.height)};f.isEmpty=function(){return!(this.width*this.height)};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};!z&&!y||y&&y&&9<=gb||z&&C("1.9.1");y&&C("9");function F(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}F.prototype.clone=function(){return new F(this.x,this.y)};F.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};F.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};F.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function ib(){var a=v.h.k.c.bi;return l(a)?document.getElementById(a):a}function jb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):kb("*",a,b)}
function kb(a,b,c){var d=document;c=c||d;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,g=0,k;k=c[g];g++)a==k.nodeName&&(d[e++]=k);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=e=0;k=c[g];g++)a=k.className,"function"==typeof a.split&&0<=sa(a.split(/\s+/),b)&&(d[e++]=k);d.length=e;return d}return c}
function lb(a){return a?a.parentWindow||a.defaultView:window}function mb(a){var b;var c=document;b=c.createElement("div");y?(b.innerHTML="<br>"+a,b.removeChild(b.firstChild)):b.innerHTML=a;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(a=c.createDocumentFragment();b.firstChild;)a.appendChild(b.firstChild);b=a}return b}
function nb(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0}function ob(a){var b=typeof a;return("object"==b&&null!=a||"function"==b)&&1==a.nodeType}
function pb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}
function qb(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(y&&!(y&&9<=gb)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,g=b.parentNode;return e==g?rb(a,b):!c&&pb(e,b)?-1*sb(a,b):!d&&pb(g,a)?sb(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:g.sourceIndex)}d=G(a);c=d.createRange();
c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(h.Range.START_TO_END,d)}function sb(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return rb(d,a)}function rb(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1}
function tb(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],e=Infinity;for(b=0;b<c;b++){for(var g=[],k=arguments[b];k;)g.unshift(k),k=k.parentNode;d.push(g);e=Math.min(e,g.length)}g=null;for(b=0;b<e;b++){for(var k=d[0][b],m=1;m<c;m++)if(k!=d[m][b])return g;g=k}return g}function G(a){return 9==a.nodeType?a:a.ownerDocument||a.document}var ub={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},vb={IMG:" ",BR:"\n"};function H(a){var b=[];wb(a,b,!1);return b.join("")}
function wb(a,b,c){if(!(a.nodeName in ub))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in vb)b.push(vb[a.nodeName]);else for(a=a.firstChild;a;)wb(a,b,c),a=a.nextSibling}function I(a){this.ja=a||h.document||document}f=I.prototype;f.Fe=ca("ja");f.o=function(a){return l(a)?this.ja.getElementById(a):a};f.$=I.prototype.o;f.hd=function(a,b){return jb(a,b||this.ja)};
f.gd=function(a,b){var c=b||this.ja,d=c||document,e=null;return(e=d.querySelectorAll&&d.querySelector?d.querySelector("."+a):jb(a,c)[0])||null};f.createElement=function(a){return this.ja.createElement(a)};f.createTextNode=function(a){return this.ja.createTextNode(String(a))};f.Ke=function(){return this.ja.parentWindow||this.ja.defaultView};
f.U=function(){var a=this.ja,b=B||"CSS1Compat"!=a.compatMode?a.body:a.documentElement,a=a.parentWindow||a.defaultView;return y&&C("10")&&a.pageYOffset!=b.scrollTop?new F(b.scrollLeft,b.scrollTop):new F(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};f.appendChild=function(a,b){a.appendChild(b)};f.isElement=ob;f.contains=pb;v.b={};v.b.g={};v.b.g.o=function(a,b){return(new I(b)).o(a)};v.b.g.U=function(a){return(new I(a)).U()};v.b.g.gd=function(a,b){return(new I(b)).gd(a)};v.b.g.hd=function(a,b){return(new I(b)).hd(a)};var K={},xb="closure_listenable_"+(1E6*Math.random()|0);function L(a){return!(!a||!a[xb])}var yb=0;function zb(a,b,c,d,e){this.Ja=a;this.tc=null;this.src=b;this.type=c;this.capture=!!d;this.kc=e;this.key=++yb;this.ab=this.$b=!1}function Ab(a){a.ab=!0;a.Ja=null;a.tc=null;a.src=null;a.kc=null};function Bb(a){this.src=a;this.C={};this.Ob=0}f=Bb.prototype;f.add=function(a,b,c,d,e){var g=this.C[a];g||(g=this.C[a]=[],this.Ob++);var k=Cb(g,b,d,e);-1<k?(a=g[k],c||(a.$b=!1)):(a=new zb(b,this.src,a,!!d,e),a.$b=c,g.push(a));return a};f.remove=function(a,b,c,d){if(!(a in this.C))return!1;var e=this.C[a];b=Cb(e,b,c,d);return-1<b?(Ab(e[b]),w.splice.call(e,b,1),0==e.length&&(delete this.C[a],this.Ob--),!0):!1};
function Db(a,b){var c=b.type;if(!(c in a.C))return!1;var d=a.C[c],e=sa(d,b),g;(g=0<=e)&&w.splice.call(d,e,1);g&&(Ab(b),0==a.C[c].length&&(delete a.C[c],a.Ob--));return g}f.Id=function(a){var b=0,c;for(c in this.C)if(!a||c==a){for(var d=this.C[c],e=0;e<d.length;e++)++b,Ab(d[e]);delete this.C[c];this.Ob--}return b};f.vb=function(a,b){var c=this.C[a],d=[];if(c)for(var e=0;e<c.length;++e){var g=c[e];g.capture==b&&d.push(g)}return d};
f.Va=function(a,b,c,d){a=this.C[a];var e=-1;a&&(e=Cb(a,b,c,d));return-1<e?a[e]:null};f.wb=function(a,b){var c=void 0!==a,d=void 0!==b;return Ea(this.C,function(e){for(var g=0;g<e.length;++g)if(!(c&&e[g].type!=a||d&&e[g].capture!=b))return!0;return!1})};function Cb(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.ab&&g.Ja==b&&g.capture==!!c&&g.kc==d)return e}return-1};var Eb=!y||y&&9<=gb,Fb=y&&!C("9");!B||C("528");z&&C("1.9b")||y&&C("8")||Ta&&C("9.5")||B&&C("528");z&&!C("8")||y&&C("9");K.ej=function(a){return B?"webkit"+a:Ta?"o"+a.toLowerCase():a.toLowerCase()};function N(){0!=Gb&&(this.Ti=Error().stack,Hb[ia(this)]=this)}var Gb=0,Hb={};N.prototype.Ae=!1;N.prototype.bd=function(){if(!this.Ae&&(this.Ae=!0,this.O(),0!=Gb)){var a=ia(this);delete Hb[a]}};N.prototype.O=function(){if(this.We)for(;this.We.length;)this.We.shift()()};function Ib(a,b){this.type=a;this.currentTarget=this.target=b}f=Ib.prototype;f.O=ba();f.bd=ba();f.Ca=!1;f.defaultPrevented=!1;f.bf=!0;f.stopPropagation=function(){this.Ca=!0};f.preventDefault=function(){this.defaultPrevented=!0;this.bf=!1};function Kb(a){a.stopPropagation()};function Lb(a){Lb[" "](a);return a}Lb[" "]=ea;function Mb(a,b){if(a){var c=this.type=a.type;Ib.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(z){var e;a:{try{Lb(d.nodeName);e=!0;break a}catch(g){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=B||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=B||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Sh=Na?a.metaKey:a.ctrlKey;this.state=a.state;this.tb=a;a.defaultPrevented&&this.preventDefault();delete this.Ca}}q(Mb,Ib);f=Mb.prototype;f.target=null;f.relatedTarget=null;f.offsetX=0;f.offsetY=0;f.clientX=0;f.clientY=0;f.screenX=0;f.screenY=0;
f.button=0;f.keyCode=0;f.charCode=0;f.ctrlKey=!1;f.altKey=!1;f.shiftKey=!1;f.metaKey=!1;f.Sh=!1;f.tb=null;f.stopPropagation=function(){Mb.J.stopPropagation.call(this);this.tb.stopPropagation?this.tb.stopPropagation():this.tb.cancelBubble=!0};f.preventDefault=function(){Mb.J.preventDefault.call(this);var a=this.tb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Fb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};f.O=ba();K.Re={};K.Ba={};K.Qh="on";K.Dd={};K.Fc=2;K.u=function(a,b,c,d,e){if(ga(b)){for(var g=0;g<b.length;g++)K.u(a,b[g],c,d,e);return null}c=K.Ec(c);return L(a)?a.u(b,c,d,e):K.Qe(a,b,c,!1,d,e)};
K.Qe=function(a,b,c,d,e,g){if(!b)throw Error("Invalid event type");var k=!!e;if(k&&!Eb&&(0==K.Fc||1==K.Fc))return null;var m=ia(a),p=K.Ba[m];p||(K.Ba[m]=p=new Bb(a));c=p.add(b,c,d,e,g);if(c.tc)return c;d=K.bh();c.tc=d;d.src=a;d.Ja=c;a.addEventListener?a.addEventListener(b,d,k):a.attachEvent(K.Ge(b),d);return K.Re[c.key]=c};K.bh=function(){var a=K.rd,b=Eb?function(c){return a.call(b.src,b.Ja,c)}:function(c){c=a.call(b.src,b.Ja,c);if(!c)return c};return b};
K.zb=function(a,b,c,d,e){if(ga(b)){for(var g=0;g<b.length;g++)K.zb(a,b[g],c,d,e);return null}c=K.Ec(c);return L(a)?a.zb(b,c,d,e):K.Qe(a,b,c,!0,d,e)};K.ij=function(a,b,c,d,e){b.u(a,c,d,e)};K.K=function(a,b,c,d,e){if(ga(b)){for(var g=0;g<b.length;g++)K.K(a,b[g],c,d,e);return null}c=K.Ec(c);if(L(a))return a.K(b,c,d,e);if(!a)return!1;d=!!d;if(a=K.Wa(a))if(b=a.Va(b,c,d,e))return K.gb(b);return!1};
K.gb=function(a){if("number"==typeof a||!a||a.ab)return!1;var b=a.src;if(L(b))return b.gb(a);var c=a.type,d=a.tc;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(K.Ge(c),d);(c=K.Wa(b))?(Db(c,a),0==c.Ob&&(c.src=null,delete K.Ba[ia(b)])):Ab(a);delete K.Re[a.key];return!0};K.yj=function(a,b,c,d,e){b.K(a,c,d,e)};K.Id=function(a,b){return a?L(a)?a.Z?a.Z.Id(b):0:K.af(ia(a),b):K.Xh()};
K.af=function(a,b){var c=K.Ba[a];if(!c)return 0;var d=0,e;for(e in c.C)if(!b||e==b)for(var g=za(c.C[e]),k=0;k<g.length;++k)K.gb(g[k])&&++d;return d};K.Xh=function(){var a=0,b;for(b in K.Ba)a+=K.af(b);return a};K.vb=function(a,b,c){return L(a)?a.vb(b,c):a?(a=K.Wa(a))?a.vb(b,c):[]:[]};K.Va=function(a,b,c,d,e){c=K.Ec(c);d=!!d;return L(a)?a.Va(b,c,d,e):a?(a=K.Wa(a))?a.Va(b,c,d,e):null:null};K.wb=function(a,b,c){if(L(a))return a.wb(b,c);a=K.Wa(a);return!!a&&a.wb(b,c)};
K.Xi=function(a){var b=[],c;for(c in a)a[c]&&a[c].id?b.push(c+" = "+a[c]+" ("+a[c].id+")"):b.push(c+" = "+a[c]);return b.join("\n")};K.Ge=function(a){return a in K.Dd?K.Dd[a]:K.Dd[a]=K.Qh+a};K.Ta=function(a,b,c,d){return L(a)?a.Ta(b,c,d):K.ed(a,b,c,d)};K.ed=function(a,b,c,d){var e=1;if(a=K.Wa(a))if(b=a.C[b])for(b=za(b),a=0;a<b.length;a++){var g=b[a];g&&(g.capture==c&&!g.ab)&&(e&=!1!==K.dd(g,d))}return Boolean(e)};K.dd=function(a,b){var c=a.Ja,d=a.kc||a.src;a.$b&&K.gb(a);return c.call(d,b)};
K.cj=function(){var a=0,b;for(b in K.Ba){var c=K.Ba[b],d=0,e=void 0;for(e in c.C)d+=c.C[e].length;a+=d}return a};K.dispatchEvent=function(a,b){return a.dispatchEvent(b)};K.pj=function(a){K.rd=a.qj(K.rd)};
K.rd=function(a,b){if(a.ab)return!0;if(!Eb){var c;if(!(c=b))a:{c=["window","event"];for(var d=h,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Mb(e,this);d=!0;if(2==K.Fc){if(!K.gh(e)){K.ih(e);e=[];for(var g=c.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,k=e.length-1;!c.Ca&&0<=k;k--)c.currentTarget=e[k],d&=K.ed(e[k],g,!0,c);for(k=0;!c.Ca&&k<e.length;k++)c.currentTarget=e[k],d&=K.ed(e[k],g,!1,c)}}else d=K.dd(a,c);return d}return K.dd(a,new Mb(b,this))};
K.ih=function(a){var b=!1;if(0==a.keyCode)try{a.keyCode=-1;return}catch(c){b=!0}if(b||void 0==a.returnValue)a.returnValue=!0};K.gh=function(a){return 0>a.keyCode||void 0!=a.returnValue};K.di=0;K.dj=function(a){return a+"_"+K.di++};K.Wa=function(a){return a[ja]?K.Ba[ia(a)]||null:null};K.Td="__closure_events_fn_"+(1E9*Math.random()>>>0);K.Ec=function(a){return"function"==fa(a)?a:a[K.Td]||(a[K.Td]=function(b){return a.handleEvent(b)})};v.b.H={};v.b.H.wc=function(a,b){v.b.H.se(K.u,a,b)};v.b.H.Bc=function(a,b){v.b.H.se(K.K,a,b)};v.b.H.se=function(a,b,c){var d;x(b,function(b){"string"===typeof b[1]?(d=b.slice(),d.push(!1,c),a.apply(K,d)):x(b[1],function(g){d=g.slice();d.unshift(b[0]);d.push(!1,c);a.apply(K,d)})})};v.b.H.ah=function(){var a=window;return a.location.protocol+"//"+a.location.host+(a.location.port?":"+a.location.port:"")};v.b.H.Vb=function(a,b,c){this.gf=0;this.delay=b;this.N=a;this.$c=c||null};
v.b.H.Vb.prototype.start=function(){var a=this;a.gf=setTimeout(function(){a.N.call(a.$c)},a.delay);return this};v.b.H.Vb.prototype.stop=function(){clearTimeout(this.gf);return this};v.b.Nd=function(a){var b;return function(){if(b)return b;b=this;a.apply(this,arguments);return b}};v.b.qb=function(a,b){var c={};2===arguments.length?a(c):b=a;return function(){var a=Array.prototype.slice.call(arguments);a.unshift(c);return b.apply(this,a)}};v.b.wrap=function(a,b,c){function d(){return a.apply(c,e)}var e;c=c||{};return function(){e=arguments;return b.apply(c,[d].concat(Array.prototype.slice.call(e)))}};
v.b.hi=function(a,b,c,d){function e(){a.apply(c,arguments)}c=c||{};d=d||c;return function(){return b.apply(d,[e].concat(Array.prototype.slice.call(arguments)))}};v.b.ii=function(){return v.b.wrap(v.a.b.Ia,function(a){var b=v.b.hash.apply(null,arguments);return v.b.xa(b)||v.b.xa(b,a())},void 0)};v.b.Qi=function(a,b,c){c=c||{};return function(){var d=arguments;x(a,function(a,b){a[1]&&a[0]!==v.b.xe(d[b])&&Array.prototype.splice.call(d,b,0,a[2])});b.apply(c,d)}};
v.b.Ui=function(a,b){for(var c in a)"function"===typeof a[c]&&(b[c]=void 0!==b[c]?v.b.hi(a[c],b[c],a,b):function(){var b=a[c];return function(){b.apply(a,arguments)}}());return b};
v.b.Th=function(a,b){var c=window.open(a.url,a.title,["toolbar=no, location=no, directories=no, status=no, menubar=no,copyhistory=no, width=",a.jf,", height=",a.Le,", top=",(window.screenTop?window.screenTop:window.screenY)+window.innerHeight/2-a.Le/2,", left="+((window.screenLeft?window.screenLeft:window.screenX)+window.innerWidth/2-a.jf/2)].join("")),d=setInterval(function(){c.closed&&(clearInterval(d),b&&b())},200)};
v.b.preventDefault=function(a){a=a||window.event;a.preventDefault&&a.preventDefault();a.returnValue&&(a.returnValue=!1);return!1};v.b.nj=function(a){return"/"+a.split("/").slice(3).join("/")};v.b.xe=function(a){return null===a?"null":void 0===a?"undefined":a!==a?"NaN":Object.prototype.toString.call(a).slice(8,-1)};
v.b.Ni=v.b.qb(function(a){a.C=[];var b=window.onload;window.onload=function(){for(var c=0;c<a.C.length;c++)a.C[c]();"function"===typeof b&&b()}},function(){var a=arguments[0];a.C.push.apply(a.C,Array.prototype.slice.call(arguments,1))});v.b.hash=v.b.qb(function(a){a.hash=a.hash||[];for(var b=[],c=1,d=arguments.length;c<d;c++)-1===a.hash.indexOf(arguments[c])&&a.hash.push(arguments[c]),b.push(a.hash.indexOf(arguments[c]));return b.join("")});
v.b.xa=v.b.qb(function(a){var b=arguments.length;return 2===b?a[arguments[1]]:3!==b&&4===b?a[arguments[1]]?(a[arguments[1]].push(arguments[2]),a[arguments[1]]):a[arguments[1]]=[arguments[2]]:a[arguments[1]]=arguments[2]});v.b.kj=function(a,b){var c=b.j||window,d=c.document.createElement("script");b.id&&(d.id=b.id);d.type="text/javascript";d.src=a;d.charset="utf-8";c.document.body.appendChild(d);v.b.Se(d,b.N);return d};
v.b.jj=function(a,b){var c=b.j||window,d=c.document.createElement("link");b.id&&(d.id=b.id);d.rel="stylesheet";d.type="text/css";d.href=a;c.document.getElementsByTagName("head")[0].appendChild(d);v.b.Se(d,b.N);return d};v.b.Se=function(a,b){a.addEventListener?a.addEventListener("load",function(){b&&b()},!1):a.readyState&&(a.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&b&&b()})};v.b.error=function(a,b){throw{name:a,message:b};};
v.b.Jg=function(a){a()||v.b.error("getQuote","qpoint exceed max or content insufficient")};v.b.ua=function(a){var b,c=Array.prototype.slice.call(arguments,1),d,e;d=0;for(e=c.length;d<e;d++)for(b in c[d])c[d].hasOwnProperty(b)&&(a[b]=c[d][b]);return a};v.b.dh=function(a){function b(){}var c=v.a.controller.de;b.prototype=c.prototype;a.prototype=new b;a.prototype.constructor=a;a.prototype.parent=c;return a};v.a.b={};v.a.b.Ie=function(a,b,c){a=[a];for(var d=0,e,g,k,m,p,s;;){e=a.pop();if(void 0===e)return null;if(!(e.nodeName in ub))if(3==e.nodeType){var n=H(e).length,d=d+H(e).length;d>b&&!g&&(g=e,k=n-(d-b));if(d>=c&&!m){m=e;p=n-(d-c);break}}else if(e.nodeName in vb)d+=vb[e.nodeName].length;else for(n=e.childNodes.length-1;0<=n;n--)a.push(e.childNodes[n])}try{if(s=Nb(g,k,m,p),s.V()||s.isCollapsed())return null}catch(r){return null}return s};
v.a.b.jc=function(a,b){for(var c=b||G(a).body,d=[];a&&a!=c;){for(var e=a;e=e.previousSibling;)d.unshift(H(e));a=a.parentNode}return d.join("").length};
v.a.b.Ia=function(a){var b=a.s(),c=a.B(),d=a.A();a=a.F();b=v.a.b.Ka(b,c);d=v.a.b.Ka(d,a);a=Nb(b.D,b.offset,d.D,d.offset);c="";a=[a.ka()];for(var e=!1;0!==a.length&&g!==d.D;){var g=a.pop();g===b.D&&(e=!0);if(!(g.nodeName in ub))if(g.nodeName in vb)e&&(c+=vb[g.nodeName]);else if(3==g.nodeType){if(g===b.D&&g===d.D){c+=g.nodeValue.slice(b.offset,d.offset);break}else if(g===b.D){c+=g.nodeValue.slice(b.offset);continue}else if(g===d.D){c+=g.nodeValue.slice(0,d.offset);break}e&&(c+=g.nodeValue)}else for(var k=
g.childNodes,m=k.length-1;0<=m;m--)a.push(k[m])}return c};v.a.b.jh=function(a){var b=a.s(),c=a.B(),d=a.A();a=a.F();b=v.a.b.Ka(b,c);d=v.a.b.Ka(d,a);return Nb(b.D,b.offset,d.D,d.offset)};v.a.b.Ka=function(a,b){if(3===a.nodeType){if(a.nodeValue.charAt(b))return{D:a,offset:b}}else if(1===a.nodeType&&a.childNodes[b])return v.a.b.Ka(a.childNodes[b],0);for(;!a.nextSibling;)a=a.parentNode;return v.a.b.Ka(a.nextSibling,0)};v.a.b.gc=function(a){return a?a.body:document.body};
v.a.b.ec=function(a,b){return RegExp("["+(b?"^":"")+a.join("|")+"]","g")};v.a.b.Ia=v.b.ii();v.b.e={};v.b.e.fj=function(a,b,c){return[a.slice(0,b),c,a.slice(b)].join("")};v.b.e.wd=function(a,b){return 0===a.length||0===b.length?Math.max(a.length,b.length):Math.min(v.b.e.wd(a.slice(1),b)+1,v.b.e.wd(a,b.slice(1))+1,v.b.e.wd(a.slice(1),b.slice(1))+(a[0]===b[0]?0:1))};v.b.e.match=function(a,b){var c=-1;va(b,function(b,e){"String"===v.b.xe(b)&&(b=RegExp(b));if(b.test(a))return c=e,!0});return c};v.b.e.Ua=function(a){var b=arguments;return a.replace(/\{(\d+)\}/gi,function(a,d){return b[+d+1]})};
v.b.e.Oa="\u4e00-\u9fa5\uf900-\ufa2d";v.b.e.ie="a-zA-Z";v.b.e.Tf="\\s , \\. < > \\/ \\? ; \\: ' \" \\\\ \\| ` ~ ! @ # % \\$ \\^ & \\* \\( \\) \\- _ \\+ = \\[ \\] \\{ \\} \u3000 \uff0c \u3002 \u300a \u3008 \u00ab \u2039 \u300b \u3009 \u00bb \u203a \u3001 \uff0f \u00f7 \uff1f \uff1b \uff1a \u2018 \u2019 \u201c \u201d \u3001 \uff3c \u30fb \u00a7 \u00a6 \uff40 \u301c \uff01 \uff20 \u262f \uff03 \u2318 \uff05 \u00b0 \u2103 \uffe5 \u20ac \u00a3 \u00a5 \u00a2 \u00a4 \u2026\u2026 \uff06 \uff0a \u30fb \u00d7 \u203b \u2742 \u00b7 \uff08 \uff09 \uff0d \u2014\u2014 \uff0b \uff1d \u300c \u3010 \u3014 \uff3b \u300d \u3011 \u3015 \uff3d \u300e \u3016 \uff5b \u300f \u3017 \uff5d".split(" ");
v.b.e.je=v.b.e.Tf.join("|");v.b.e.$g=function(a){return qa(a).split(/\s+/g).length};v.b.e.fd=function(a){return a.length-a.replace(RegExp("["+v.b.e.Oa+"]","g"),"").length};v.b.e.indexOf=function(a,b,c,d){function e(a,b){return"string"===typeof b?a===b:(b.lastIndex=0,b.test(a))}c=c||0;if(d)for(;0<=c;c--){if(e(a.charAt(c),b))return c}else for(d=a.length;c<d;c++)if(e(a.charAt(c),b))return c;return-1};function Ob(a){a=a||{min:v.a.k.cg,max:v.a.k.bg};this.config(a)}var Pb="\\s|"+v.b.e.Oa+"";f=Ob.prototype;f.config=function(a){if(!a)return this;void 0!==a.length&&void 0!==a.yb?(a.min=a.length-a.yb,a.max=a.length+a.yb):void 0!==a.min&&void 0!==a.max&&(a.length=(a.min+a.max)/2,a.yb=(a.max-a.min)/2);this.min=2*a.min;this.max=2*a.max;this.length=2*a.length;this.yb=2*a.yb;return this};
f.Ee=function(a){for(var b=a.ka().parentNode,c=b,d=H(c),e=d,g,k;O(e)<this.min;)b=c,d=e,(c=c.parentNode)||v.b.error("getContentByRange","insufficient total content length"),e=H(c);k=v.a.b.Ia(a).length;g=a.B();if(O(e)<=this.max)return g+=v.a.b.jc(a.s(),c),[e,g,k];g+=v.a.b.jc(a.s(),b);a=d;for(var m=b,c=b=!1,d=g+k,p=O(a),e=m;p<this.min;)(p=b||c?b?!0:!1:d>=(p-d)*v.a.k.ae)?(m=m.nextSibling)?(p=H(m),a+=p):c=!0:(e=e.previousSibling)?(p=H(e),a=p+a,g+=p.length,d+=p.length):b=!0,p=O(a);return[a,g,k]};
f.He=function(a,b,c){var d=this,e;v.b.Jg(function(){return c<d.max&&O(a)>d.min});e=this.length>v.a.k.ag?this.Ag.apply(this,arguments):this.Bg.apply(this,arguments);var g=RegExp("[\\.\\?!;\\n,\u3002\uff1f\uff01\uff1b\\n\uff0c]","g");for(b=0;g.test(e[0][b]);)b++,g.lastIndex=0;e[0]=e[0].slice(b);e[1]-=b;return e};
f.Ag=function(a,b,c){var d=[b,b+c];b=[b,b+c];var e,g,k;k=a.length-a.replace(RegExp("["+v.b.e.Oa+"]","g"),"").length;g=a.length-a.replace(RegExp("["+v.b.e.ie+"]","g"),"").length;k>v.a.k.$f*(k+g)?(e="\u3002\uff1f\uff01\uff1b\\n",g="\uff0c"):(e="\\.\\?!;\\n",g=",");e=RegExp("["+e+"]","g");g=RegExp("["+g+"]","g");k=RegExp("["+Pb+"]","g");for(var m=!1,p=!1,s;O(a.substring.apply(a,b))<this.min;)(s=m||p?m?!0:!1:d[1]-b[0]>=(b[1]-d[1])*v.a.k.ae)?(s=v.b.e.indexOf(a,e,b[1]+1,!1),-1===s&&(s=a.length,p=!0),b[1]=
s):(s=v.b.e.indexOf(a,e,b[0]-1,!0),-1===s&&(s=0,m=!0),b[0]=s);if(O(a.substring.apply(a,b))>this.max){e=0;for(O(a.substring(b[0],d[1]))<this.max?e=1:O(a.substring(d[0],b[1]))<this.max?e=-1:b[1]=d[1];O(a.substring.apply(a,b))>this.max;)switch(e){case -1:case 0:m=v.b.e.indexOf(a,g,b[0]+1,!1);b[0]=-1===m||m>d[0]?d[0]:m;break;case 1:m=v.b.e.indexOf(a,g,b[1]-1,!0),b[1]=-1===m||m<d[1]?d[1]:m}place=e;if(O(a.substring.apply(a,b))<this.min)for(g=place;O(a.substring.apply(a,b))<this.min;)switch(g){case -1:case 0:e=
v.b.e.indexOf(a,k,b[0]-1,!0);b[0]=-1===e?0:e;break;case 1:e=v.b.e.indexOf(a,k,b[1]+1,!1),b[1]=-1===e?a.length:e}}return[a.substring.apply(a,b),d[0]-b[0],c]};f.Bg=function(a,b,c){for(var d=Math.floor((this.min-2*c)/2),d=[b-d,b+c+d],e=!0;O(a.substring(d[0],d[1]))<this.min;)e?d[1]<=a.length&&d[1]++:0<d[0]&&d[0]--,e=!e;return[a.substring.apply(a,d),b-d[0],c]};function O(a){a=Rb(a);return 2*a.length-a.replace(RegExp("["+v.b.e.Oa+"]","g"),"").length}
function Rb(a){return a.replace(/(\r|\r\n|\n)/g," ").replace(/\s+/g," ")}v.a.Quote=Ob;Ob.prototype.getQuote=Ob.prototype.He;Ob.prototype.getContentByRange=Ob.prototype.Ee;v.a.b.Sb=v.b.Nd(function(){this.R=v.b.xa("rpc")||v.b.xa("rpc",new easyXDM.Rpc({remote:v.a.k.Mc},{remote:{request:{}}}))});v.a.b.Sb.prototype.set=function(a,b,c,d){this.R.request({url:"/inner/cookie/set",data:{key:a,value:b,secs:c||v.a.k.sf}},function(a){d&&d(a)})};v.a.b.Sb.prototype.get=function(a,b){this.R.request({url:"/inner/cookie/get",data:{key:a}},function(a){b&&b(a)})};v.a.b.Sb.prototype.remove=function(a,b){this.R.request({url:"/inner/cookie/remove",data:{key:a}},function(a){b&&b(a)})};
v.a.b.cookie=new v.a.b.Sb;v.a.b.cookie.set=v.a.b.cookie.set;v.a.b.cookie.get=v.a.b.cookie.get;v.a.b.cookie.remove=v.a.b.cookie.remove;v.fb={};v.fb.Rb={};
(function(a){function b(a){return Da(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}function c(a){var b=a.length,c=b%4;a=(0<b?n[a.charAt(0)]<<18:0)|(1<b?n[a.charAt(1)]<<12:0)|(2<b?n[a.charAt(2)]<<6:0)|(3<b?n[a.charAt(3)]:0);a=[r(a>>>16),r(a>>>8&255),r(a&255)];a.length-=[0,0,2,1][c];return a.join("")}function d(a){return a.replace(Ua,e)}function e(a){return r(3>a.length?(31&a.charCodeAt(0))<<6|63&a.charCodeAt(1):(15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<
6|63&a.charCodeAt(2))}function g(a,b){return b?D(a).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}):D(a)}function k(a){var b=[0,2,1][a.length%3];a=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):0)<<8|(2<a.length?a.charCodeAt(2):0);return["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>12&63),2<=b?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6&63),
1<=b?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a&63)].join("")}function m(a){return a.replace(/[^\x00-\x7F]/g,p)}function p(a){var b=a.charCodeAt(0);return 128>b?a:2048>b?r(192|b>>>6)+r(128|b&63):r(224|b>>>12&15)+r(128|b>>>6&63)+r(128|b&63)}var s;"undefined"!==typeof module&&module.Ce&&(s=require("buffer").ki);var n=function(a){for(var b={},c=0,e=a.length;c<e;c++)b[a.charAt(c)]=c;return b}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),r=String.fromCharCode,
J=a.btoa||function(a){return a.replace(/[\s\S]{1,3}/g,k)},D=s?function(a){return(new s(a)).toString("base64")}:function(a){return J(m(a))},Ua=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}/g,M=a.atob||function(a){return a.replace(/[\s\S]{1,4}/g,c)},Da=s?function(a){return(new s(a,"base64")).toString()}:function(a){return d(M(a))};a.Rb={atob:M,btoa:J,bj:b,wj:g,zj:m,Wg:g,Vi:function(a){return g(a,!0)},Si:d,Pg:b};if("function"===typeof Object.defineProperty){var pa=function(a){return{value:a,enumerable:!1,
writable:!0,configurable:!0}};a.Rb.Yi=function(){Object.defineProperty(String.prototype,"fromBase64",pa(function(){return b(this)}));Object.defineProperty(String.prototype,"toBase64",pa(function(a){return g(this,a)}))}}})(v.fb);v.a.Sd=v.b.Nd(function(){this.G={mf:"/q/add",qg:"/q/update",jg:"/q/ban",Jf:"/q/like",wf:"/q/",xf:"/q/p/",si:"/p/",ni:"/q/u/added/",pi:"/q/u/liked/",ri:"/q/pop/",ti:"/q/qtext/",ui:"/q/qurl/",Df:"/u/qlist/",lg:"/q/search",Cf:"/u/",rg:"/u/info",qi:"/u/q/liked/",oi:"/u/q/isliked/",zf:"/qlinks/from/one/",yf:"/qlinks/from/",uf:"/qlinks/",Bf:"/qlinks/url/",lf:"/qlinks/create",ig:"/qlink/",Af:"/qlinks/related/from/",vf:"/qlinks/start",kg:"/qlinks/fromquery",Ud:"/u/login/",Vd:"/u/logout",Pf:"/si/monitor"};
this.R=v.b.xa("rpc")||v.b.xa("rpc",new easyXDM.Rpc({remote:v.a.k.Mc},{remote:{request:{}}}));this.cookie=v.a.b.cookie});v.a.w=new v.a.Sd;f=v.a.Sd.prototype;f.initialize=function(a){var b=this;this.R.request({url:"/inner/init",data:{AUTH_KEY_ID:window._pintex.auth[0],AUTH_KEY_SECRET:window._pintex.auth[1]}},function(){b.cookie.set("src_id",window._pintex.auth[0],null,function(){a&&a()})})};
f.M=function(a,b){var c=Sb({uid:a.uid,qurl:a.qurl,qtext:a.qtext,qquote:a.qquote,search_loc:a.search_loc,range_loc:a.range_loc,share2sns:void 0===a.shareAdd?!0:a.shareAdd,qtitle:a.qtitle,qquoteindex:a.qquoteindex});Q(this,{url:this.G.mf,method:"POST",data:{data:c}},b)};f.ld=function(a,b){var c=v.b.e.Ua(this.G.wf+"{0}/{1}",a.qid,a.uid||0);Q(this,{url:c,method:"GET"},b)};
f.aa=function(a,b){stream=Sb({uid:a.uid,qid:a.qid,client:a.Lg,client_ver:a.Mg,share2sns:void 0===a.shareLike?!0:a.shareLike});Q(this,{url:this.G.Jf,method:"POST",data:{data:stream}},b)};f.Cc=function(a,b){var c=Sb({qid:a.qid,search_loc:a.search_loc,range_loc:a.range_loc});Q(this,{url:this.G.qg,method:"POST",data:{data:c}},b)};f.yc=function(a,b){var c=Sb({qid:a.qid});Q(this,{url:this.G.jg,method:"POST",data:{data:c}},b)};
f.hc=function(a,b){var c=v.b.e.Ua(this.G.xf+"{0}/{1}",a.uid||0,a.url);Q(this,{url:c,method:"GET"},b)};f.Je=function(a,b){var c=v.b.e.Ua(this.G.Df+"{0}/{1}/{2}",a.uid,a.hj||0,a.vj||0);Q(this,{url:c,method:"GET",data:{Wh:a.Wh}},b)};f.zc=function(a,b){var c=v.b.e.Ua(this.G.lg+"?q={0}&offset={1}&size={2}&sort={3}&dir={4}&range={5}",encodeURI(escape(a.q||"")),a.offset||0,a.size||20,a.sort||"created_at",a.dir||"asc",a.range||"");Q(this,{url:c,method:"GET"},b)};
f.ub=function(a){Q(this,{url:this.G.rg,method:"GET"},a)};f.qd=function(a,b){Q(this,{url:this.G.Cf+a.uid||0,method:"GET"},b)};f.hb=function(a,b){"function"===typeof a?(b=a,this.cookie.get("userConfig",function(a){a?(a=JSON.parse(a),b(a)):b({shareAdd:!0,shareLike:!0,rememberAdd:!1,rememberLike:!1})})):this.cookie.set("userConfig",JSON.stringify(a),null,function(){b&&b()})};f.T=function(a,b){v.b.Th({url:v.a.k.Nc+this.G.Ud+a,title:"\u8da3\u70b9\u767b\u5f55",jf:750,Le:450},function(){b&&b()})};
f.logout=function(a){this.cookie.remove("uid",function(){a&&a()})};f.md=function(a,b){Q(this,{url:this.G.zf+a.qid,method:"GET"},b)};f.ic=function(a,b){Q(this,{url:this.G.yf+a.Uh,method:"GET"},b)};f.jd=function(a,b){Q(this,{url:this.G.uf+("0"===a.Ze?"":a.Ze),method:"GET"},b)};f.pd=function(a,b){Q(this,{url:this.G.Bf+a.url,method:"GET"},b)};f.Vc=function(a,b){var c=Sb({qid_start:a.qid_start,qids_end:a.Vh});Q(this,{url:this.G.lf,method:"POST",data:{data:c}},b)};
f.Jd=function(a,b){Q(this,{url:this.G.ig+a.qid_start+"/"+a.qid_end,method:"DELETE"},b)};f.nd=function(a,b){Q(this,{url:this.G.Af+a.qid,method:"GET"},b)};f.kd=function(a,b){var c=v.b.e.Ua(this.G.vf+"?page={0}",a.page||1);Q(this,{url:c,method:"GET"},b)};f.Ld=function(a,b){var c=v.b.e.Ua(this.G.kg+"?q={0}&offset={1}&size={2}&sort={3}&dir={4}&range={5}",encodeURI(escape(a.q||"")),a.offset||0,a.size||20,a.sort||"created_at",a.dir||"asc",a.range||"");Q(this,{url:c,method:"GET"},b)};
f.Uc=function(a,b){var c=Sb({qid:a.qid,start_time:a.ai,destroy_time:a.Qg,url_prefix:a.ei});Q(this,{url:this.G.kf,method:"POST",data:{data:c}},b)};function Sb(a){a=JSON.stringify(a);return v.fb.Rb.Wg(a)}function Q(a,b,c){var d=(new Date).getTime();Tb(a,b,function(e){var g=(new Date).getTime();1E3<g-d&&(g=Sb({api:b.url,data:b.data||"",orig_url:window.location.href,time:g-d}),Tb(a,{url:a.G.Pf,method:"POST",data:{data:g}}));c&&c(e)})}
function Tb(a,b,c){a.R.request(b,function(a){var b;if(c&&0!==a.data.length)try{var g=v.fb.Rb.Pg(a.data);b=JSON.parse(g)}catch(k){console.log("Server JSON parse error"),c&&c(null)}else b=null;c&&c(b)})};v.a.sj={};function R(){return this}R.prototype.W=function(a,b){this.d=b||document;var c=a.s(),d=a.B();a.A();a.F();c=d+v.a.b.jc(c,v.a.b.gc(this.d));d=c+v.a.b.Ia(a).length;return[c,d]};R.prototype.ia=function(a,b){this.d=b||document;return v.a.b.Ie(v.a.b.gc(this.d),a[0],a[1])};R.prototype.serialize=R.prototype.W;R.prototype.deserialize=R.prototype.ia;function S(){return this}S.prototype.W=function(a,b){this.d=b||document;var c={},d;d=v.a.b.gc(this.d);var e=H(d);c.text=v.a.b.Ia(a);d=a.B()+v.a.b.jc(a.s(),d);c.Ad=Ub(e.substr(0,d),c.text)+1;c.total=Ub(e,c.text);return c};
S.prototype.ia=function(a,b){this.d=b||document;var c,d,e=v.a.b.gc(this.d),g=H(e);if(Ub(g,a.text)!==a.total)return null;try{for(var k=a.text,m=a.Ad,p=0;0!==m;)p=g.indexOf(k,p),-1===p&&v.b.error("qtext not found in text"),p+=k.length,m--;c=p-k.length;d=c+a.text.length;return v.a.b.Ie(e,c,d)}catch(s){return null}};function Ub(a,b){for(var c=0,d=0;-1!==(d=a.indexOf(b,d));)d+=b.length,c++;return c}S.prototype.serialize=S.prototype.W;S.prototype.deserialize=S.prototype.ia;function Vb(a){this.config(a)}Vb.prototype.config=function(a){this.va=new R;this.Ac=new S;this.quote=new Ob(a);return this};Vb.prototype.W=function(a,b){this.d=b||document;if(0===qa(a.fa()).length)return null;try{var c=this.Ac.W(a,this.d);c.pc=this.va.W(a,this.d);c.title=document.title;var d=this.quote.Ee(a),e=this.quote.He.apply(this.quote,d);c.Fb=e[1];c.quote=e[0];var g=c.quote.slice(0,c.Fb),k=Rb(g);c.Fb-=g.length-k.length;c.quote=Rb(c.quote);return Wb(c)}catch(m){return console.log(m),null}};
Vb.prototype.ia=function(a,b){this.d=b||document;a=Xb(a);var c=this.va.ia(a.pc,this.d);if(null===c||v.a.b.Ia(c)!==a.text)c=this.Ac.ia(a,this.d),null!==c&&v.a.b.Ia(c)===a.text&&(a.pc=this.va.W(c,this.d),a=Wb(a),a.qid&&v.a.w.Cc(a));return c};function Wb(a){var b=Ga(a);b.qtext=a.text;b.qquote=a.quote;b.qtitle=a.title;b.range_loc=a.pc.join(";");b.search_loc=a.Ad+";"+a.total;b.qquoteindex=a.Fb;return b}
function Xb(a){var b=Ga(a);b.text=a.qtext;b.quote=a.qquote;b.title=a.qtitle;b.pc=ua(a.range_loc.split(";"),function(a){return+a});b.Ad=+a.search_loc.split(";")[0];b.total=+a.search_loc.split(";")[1];b.Fb=a.qquoteindex;return b}Vb.prototype.serialize=Vb.prototype.W;Vb.prototype.deserialize=Vb.prototype.ia;v.a.action={};v.a.action.M=function(a,b,c,d,e){(b=(new Vb).W(b,d.d))&&a&&"object"===typeof d?(b.uid=a,b.qurl=c,v.b.ua(b,d),v.a.w.M(b,e)):v.b.error("argument not correct")};v.a.action.aa=function(a,b,c,d){a&&b&&"object"===typeof c?v.a.w.aa(v.b.ua({uid:a,qid:b,Lg:Pa(),Mg:Za},c),d):v.b.error("argument not correct")};v.a.action.Cc=function(a,b,c){a&&"object"===typeof b?v.a.w.Cc(v.b.ua({qid:a},b),c):v.b.error("argument not correct")};v.a.action.yc=function(a,b){a?v.a.w.yc({qid:a},b):v.b.error("argument not correct")};
v.a.action.T=function(a,b){a?v.a.w.T(a,function(){v.a.w.ub(b)}):v.b.error("argument not correct")};v.a.action.logout=function(a){v.a.w.logout(a)};v.a.action.Vc=function(a,b,c){a&&b?v.a.w.Vc({qid_start:a,Vh:"object"===typeof b?b.join(","):b+""},c):v.b.error("argument not correct")};v.a.action.Jd=function(a,b,c){a&&b?v.a.w.Jd({qid_start:a,qid_end:b},c):v.b.error("argument not correct")};
v.a.action.Uc=function(a,b,c,d){if(a&&"number"===typeof b&&c){var e=(new Date).valueOf()/1E3;v.a.w.Uc({qid:a,ai:e,Qg:e+86400*b,ei:c},d)}else v.b.error("argument not correct")};v.a.action.addQpoint=v.a.action.M;v.a.action.likeQpoint=v.a.action.aa;v.a.action.login=v.a.action.T;v.a.action.logout=v.a.action.logout;v.a.action.removeQpoint=v.a.action.yc;v.a.action.updateQpoint=v.a.action.Cc;v.a.action.addQlink=v.a.action.Vc;v.a.action.removeQlink=v.a.action.Jd;v.a.action.addQgroup=v.a.action.Uc;v.a.data={};v.a.data.ld=function(a,b,c){a&&"object"===typeof b?v.a.w.ld(v.b.ua({qid:a},b),c):v.b.error("argument not correct")};v.a.data.zc=function(a,b){"object"===typeof a?v.a.w.zc(a,b):v.b.error("argument not correct")};v.a.data.qd=function(a,b){a?v.a.w.qd({uid:a},b):v.b.error("argument not correct")};v.a.data.ub=function(a){v.a.w.ub(a)};
v.a.data.hc=function(a,b,c){a&&"object"===typeof b?(b=v.b.ua({url:encodeURIComponent(escape(a))},b),v.a.w.hc(b,function(a){if(a){var b=[];x(a,function(a){b.push(a.qid)});v.a.data.ic(b,function(b){x(a,function(a){b[a.qid]&&(a.qlinks=b[a.qid])});c&&c(a)})}else c&&c(a)})):v.b.error("argument not correct")};v.a.data.Je=function(a,b,c){a&&"object"===typeof b?v.a.w.zc({q:"creator_id:"+a+" "+b.uj,offset:b.offset,dir:"desc"},function(a){c&&c(a.results)}):v.b.error("argument not correct")};
v.a.data.hb=function(a,b){v.a.w.hb.apply(v.a.w,arguments)};v.a.data.md=function(a,b){a?v.a.w.md({qid:a},b):v.b.error("argument not correct")};v.a.data.ic=function(a,b){a?v.a.w.ic({Uh:"object"===typeof a?a.join(","):a+""},b):v.b.error("argument not correct")};v.a.data.jd=function(a,b){a?v.a.w.jd({Ze:a},b):v.b.error("argument not correct")};v.a.data.pd=function(a,b){a?v.a.w.pd({url:encodeURIComponent(escape(a))},b):v.b.error("argument not correct")};v.a.data.nd=function(a,b){a?v.a.w.nd({qid:a},b):v.b.error("argument not correct")};
v.a.data.kd=function(a,b){v.a.w.kd(a,b)};v.a.data.Ld=function(a,b){"object"===typeof a?v.a.w.Ld(a,b):v.b.error("argument not correct")};v.a.data.getCurrentUser=v.a.data.ub;v.a.data.getPageQpointList=v.a.data.hc;v.a.data.getQpoint=v.a.data.ld;v.a.data.searchQpoint=v.a.data.zc;v.a.data.getUser=v.a.data.qd;v.a.data.getUserQpointList=v.a.data.Je;v.a.data.userConfig=v.a.data.hb;v.a.data.getQlinkList=v.a.data.jd;v.a.data.getQlinkManage=v.a.data.kd;v.a.data.getQpointListQlinkList=v.a.data.ic;
v.a.data.getQpointQlinkList=v.a.data.md;v.a.data.getQpointQlinkQpointList=v.a.data.nd;v.a.data.getUrlQlinkList=v.a.data.pd;v.a.data.searchQlinkManage=v.a.data.Ld;v.a.b.ne=v.b.Nd(function(){this.R=v.b.xa("rpc")||v.b.xa("rpc",new easyXDM.Rpc({remote:v.a.k.Mc},{remote:{request:{}}}))});f=v.a.b.ne.prototype;f.setItem=function(a,b,c,d){b?this.R.request({url:"/inner/storage/set",data:{key:a,value:b,expire:c+(new Date).getTime()}},function(a){d&&d(a)}):d&&d(null)};f.getItem=function(a,b){this.R.request({url:"/inner/storage/get",data:{key:a}},function(a){b&&b(a)})};
f.removeItem=function(a,b){this.R.request({url:"/inner/storage/remove",data:{key:a}},function(a){b&&b(a)})};f.length=function(a){this.R.request({url:"/inner/storage/length"},function(b){a&&a(b)})};f.key=function(a,b){this.R.request({url:"/inner/storage/key",data:{index:a}},function(a){b&&b(a)})};f.clear=function(a){this.R.request({url:"/inner/storage/clear"},function(b){a&&a(b)})};f.keys=function(a){this.R.request({url:"/inner/storage/keys"},function(b){a&&a(b)})};
f.count=function(a){this.R.request({url:"/inner/storage/count"},function(b){a&&a(b)})};v.a.b.I=new v.a.b.ne;v.a.b.I.clear=v.a.b.I.clear;v.a.b.I.count=v.a.b.I.count;v.a.b.I.getItem=v.a.b.I.getItem;v.a.b.I.key=v.a.b.I.key;v.a.b.I.keys=v.a.b.I.keys;v.a.b.I.length=v.a.b.I.length;v.a.b.I.removeItem=v.a.b.I.removeItem;v.a.b.I.setItem=v.a.b.I.setItem;var Yb="StopIteration"in h?h.StopIteration:Error("StopIteration");function Zb(){}Zb.prototype.next=function(){throw Yb;};Zb.prototype.Fa=function(){return this};function $b(a){if(a instanceof Zb)return a;if("function"==typeof a.Fa)return a.Fa(!1);if(ha(a)){var b=0,c=new Zb;c.next=function(){for(;;){if(b>=a.length)throw Yb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");};function ac(a,b,c,d,e){this.Q=!!b;a&&bc(this,a,d);this.depth=void 0!=e?e:this.ca||0;this.Q&&(this.depth*=-1);this.ac=!c}q(ac,Zb);f=ac.prototype;f.D=null;f.ca=0;f.Od=!1;function bc(a,b,c,d){if(a.D=b)a.ca="number"==typeof c?c:1!=a.D.nodeType?0:a.Q?-1:1;"number"==typeof d&&(a.depth=d)}f.pa=function(a){this.D=a.D;this.ca=a.ca;this.depth=a.depth;this.Q=a.Q;this.ac=a.ac};f.clone=function(){return new ac(this.D,this.Q,!this.ac,this.ca,this.depth)};
f.next=function(){var a;if(this.Od){if(!this.D||this.ac&&0==this.depth)throw Yb;a=this.D;var b=this.Q?-1:1;if(this.ca==b){var c=this.Q?a.lastChild:a.firstChild;c?bc(this,c):bc(this,a,-1*b)}else(c=this.Q?a.previousSibling:a.nextSibling)?bc(this,c):bc(this,a.parentNode,-1*b);this.depth+=this.ca*(this.Q?-1:1)}else this.Od=!0;a=this.D;if(!this.D)throw Yb;return a};
f.splice=function(a){var b=this.D,c=this.Q?1:-1;this.ca==c&&(this.ca=-1*c,this.depth+=this.ca*(this.Q?-1:1));this.Q=!this.Q;ac.prototype.next.call(this);this.Q=!this.Q;for(var c=ha(arguments[0])?arguments[0]:arguments,d=c.length-1;0<=d;d--)b.parentNode&&b.parentNode.insertBefore(c[d],b.nextSibling);b&&b.parentNode&&b.parentNode.removeChild(b)};function cc(a){this.config(a)}cc.prototype.config=function(a){a=a||{};this.Pd=a.Pd;return this};cc.prototype.nc=function(a,b){var c=a,d=c.s(),e=c.B(),g=c.A(),c=c.F();d===g?(g=d=dc(d,e),c-=e):d=dc(d,e);e=0;dc(g,c);a=Nb(d,e,g,c);var d=a.Fa(),e=[],k,m;try{for(;k=d.next();){var g=k,p=this.Pd(b);3===g.nodeType&&0!==H(g).replace(/(\r|\r\n|\n)/g,"").replace(/\s+/g,"").length?(g.parentNode.replaceChild(p,g),p.appendChild(g),m=p):m=null;m&&e.push(m)}}catch(s){return e}};
function dc(a,b){var c=a.cloneNode(!1);c.deleteData(0,b);a.deleteData(b,a.length-b);a.parentNode&&a.parentNode.insertBefore(c,a.nextSibling);return c}v.a.Qmark=cc;cc.prototype.highlight=cc.prototype.nc;v.a.Zi={};Array.prototype.indexOf=Array.prototype.indexOf||function(a,b){for(var c=this.length,d=b||0;d<c;d++)if(this[d]===a)return d;return-1};function ec(){N.call(this)}q(ec,N);function fc(){}function gc(a){if(a.getSelection)return a.getSelection();a=a.document;var b=a.selection;if(b){try{var c=b.createRange();if(c.parentElement){if(c.parentElement().document!=a)return null}else if(!c.length||c.item(0).document!=a)return null}catch(d){return null}return b}return null}function hc(a){for(var b=[],c=0,d=a.Xa();c<d;c++)b.push(a.za(c));return b}fc.prototype.V=da(!1);fc.prototype.Fe=function(){return G(y?this.ka():this.s())};fc.prototype.Ke=function(){return lb(this.Fe())};
fc.prototype.containsNode=function(a,b){return this.ya(ic(jc(a),void 0),b)};function kc(a,b){ac.call(this,a,b,!0)}q(kc,ac);function nc(){}q(nc,fc);nc.prototype.ya=function(a,b){var c=hc(this),d=hc(a);return(b?va:wa)(d,function(a){return va(c,function(c){return c.ya(a,b)})})};function oc(a,b,c,d,e){var g;a&&(this.n=a,this.v=b,this.l=c,this.t=d,1==a.nodeType&&"BR"!=a.tagName&&(a=a.childNodes,(b=a[b])?(this.n=b,this.v=0):(a.length&&(this.n=ra(a)),g=!0)),1==c.nodeType&&((this.l=c.childNodes[d])?this.t=0:this.l=c));ac.call(this,e?this.l:this.n,e,!0);if(g)try{this.next()}catch(k){if(k!=Yb)throw k;}}q(oc,kc);f=oc.prototype;f.n=null;f.l=null;f.v=0;f.t=0;f.s=ca("n");f.A=ca("l");f.xb=function(){return this.Od&&this.D==this.l&&(!this.t||1!=this.ca)};
f.next=function(){if(this.xb())throw Yb;return oc.J.next.call(this)};f.pa=function(a){this.n=a.n;this.l=a.l;this.v=a.v;this.t=a.t;this.ga=a.ga;oc.J.pa.call(this,a)};f.clone=function(){var a=new oc(this.n,this.v,this.l,this.t,this.ga);a.pa(this);return a};function pc(){}f=pc.prototype;f.ta=function(){var a=this.i.getClientRects();return a.length?new F(a[0].left,a[0].top):null};f.sa=function(){var a=this.i.getClientRects();return a.length?(a=ra(a),new F(a.right,a.bottom)):null};f.ya=function(a,b){var c=b&&!a.isCollapsed(),d=a.i;try{return c?0<=this.Y(d,0,1)&&0>=this.Y(d,1,0):0<=this.Y(d,0,0)&&0>=this.Y(d,1,1)}catch(e){if(!y)throw e;return!1}};f.containsNode=function(a,b){return this.ya(jc(a),b)};
f.Fa=function(){return new oc(this.s(),this.B(),this.A(),this.F())};function qc(a){this.i=a}q(qc,pc);function rc(a){var b=G(a).createRange();if(3==a.nodeType)b.setStart(a,0),b.setEnd(a,a.length);else if(T(a)){for(var c,d=a;(c=d.firstChild)&&T(c);)d=c;b.setStart(d,0);for(d=a;(c=d.lastChild)&&T(c);)d=c;b.setEnd(d,1==d.nodeType?d.childNodes.length:d.length)}else c=a.parentNode,a=sa(c.childNodes,a),b.setStart(c,a),b.setEnd(c,a+1);return b}function sc(a,b,c,d){var e=G(a).createRange();e.setStart(a,b);e.setEnd(c,d);return e}f=qc.prototype;f.clone=function(){return new this.constructor(this.i.cloneRange())};
f.ka=function(){return this.i.commonAncestorContainer};f.s=function(){return this.i.startContainer};f.B=function(){return this.i.startOffset};f.A=function(){return this.i.endContainer};f.F=function(){return this.i.endOffset};f.Y=function(a,b,c){return this.i.compareBoundaryPoints(1==c?1==b?h.Range.START_TO_START:h.Range.START_TO_END:1==b?h.Range.END_TO_START:h.Range.END_TO_END,a)};f.isCollapsed=function(){return this.i.collapsed};f.fa=function(){return this.i.toString()};
f.select=function(a){var b=lb(G(this.s()));this.Jb(b.getSelection(),a)};f.Jb=function(a){a.removeAllRanges();a.addRange(this.i)};f.collapse=function(a){this.i.collapse(a)};function tc(a){this.i=a}q(tc,qc);tc.prototype.Y=function(a,b,c){return C("528")?tc.J.Y.call(this,a,b,c):this.i.compareBoundaryPoints(1==c?1==b?h.Range.START_TO_START:h.Range.END_TO_START:1==b?h.Range.START_TO_END:h.Range.END_TO_END,a)};tc.prototype.Jb=function(a,b){a.removeAllRanges();b?a.setBaseAndExtent(this.A(),this.F(),this.s(),this.B()):a.setBaseAndExtent(this.s(),this.B(),this.A(),this.F())};function uc(a,b){this.i=a;this.Tg=b}q(uc,pc);function vc(a){var b=G(a).body.createTextRange();if(1==a.nodeType)b.moveToElementText(a),T(a)&&!a.childNodes.length&&b.collapse(!1);else{for(var c=0,d=a;d=d.previousSibling;){var e=d.nodeType;if(3==e)c+=d.length;else if(1==e){b.moveToElementText(d);break}}d||b.moveToElementText(a.parentNode);b.collapse(!d);c&&b.move("character",c);b.moveEnd("character",a.length)}return b}f=uc.prototype;f.la=null;f.n=null;f.l=null;f.v=-1;f.t=-1;
f.clone=function(){var a=new uc(this.i.duplicate(),this.Tg);a.la=this.la;a.n=this.n;a.l=this.l;return a};f.pb=function(){this.la=this.n=this.l=null;this.v=this.t=-1};
f.ka=function(){if(!this.la){var a=this.i.text,b=this.i.duplicate(),c=a.replace(/ +$/,"");(c=a.length-c.length)&&b.moveEnd("character",-c);c=b.parentElement();b=b.htmlText.replace(/(\r\n|\r|\n)+/g," ").length;if(this.isCollapsed()&&0<b)return this.la=c;for(;b>c.outerHTML.replace(/(\r\n|\r|\n)+/g," ").length;)c=c.parentNode;for(;1==c.childNodes.length&&c.innerText==(3==c.firstChild.nodeType?c.firstChild.nodeValue:c.firstChild.innerText)&&T(c.firstChild);)c=c.firstChild;0==a.length&&(c=wc(this,c));
this.la=c}return this.la};function wc(a,b){for(var c=b.childNodes,d=0,e=c.length;d<e;d++){var g=c[d];if(T(g)){var k=vc(g),m=k.htmlText!=g.outerHTML;if(a.isCollapsed()&&m?0<=a.Y(k,1,1)&&0>=a.Y(k,1,0):a.i.inRange(k))return wc(a,g)}}return b}f.s=function(){this.n||(this.n=xc(this,1),this.isCollapsed()&&(this.l=this.n));return this.n};f.B=function(){0>this.v&&(this.v=yc(this,1),this.isCollapsed()&&(this.t=this.v));return this.v};
f.A=function(){if(this.isCollapsed())return this.s();this.l||(this.l=xc(this,0));return this.l};f.F=function(){if(this.isCollapsed())return this.B();0>this.t&&(this.t=yc(this,0),this.isCollapsed()&&(this.v=this.t));return this.t};f.Y=function(a,b,c){return this.i.compareEndPoints((1==b?"Start":"End")+"To"+(1==c?"Start":"End"),a)};
function xc(a,b,c){c=c||a.ka();if(!c||!c.firstChild)return c;for(var d=1==b,e=0,g=c.childNodes.length;e<g;e++){var k=d?e:g-e-1,m=c.childNodes[k],p;try{p=jc(m)}catch(s){continue}var n=p.i;if(a.isCollapsed())if(!T(m)){if(0==a.Y(n,1,1)){a.v=a.t=k;break}}else{if(p.ya(a))return xc(a,b,m)}else{if(a.ya(p)){if(!T(m)){d?a.v=k:a.t=k+1;break}return xc(a,b,m)}if(0>a.Y(n,1,0)&&0<a.Y(n,0,1))return xc(a,b,m)}}return c}
function yc(a,b){var c=1==b,d=c?a.s():a.A();if(1==d.nodeType){for(var d=d.childNodes,e=d.length,g=c?1:-1,k=c?0:e-1;0<=k&&k<e;k+=g){var m=d[k];if(!T(m)&&0==a.i.compareEndPoints((1==b?"Start":"End")+"To"+(1==b?"Start":"End"),jc(m).i))return c?k:k+1}return-1==k?0:k}e=a.i.duplicate();g=vc(d);e.setEndPoint(c?"EndToEnd":"StartToStart",g);e=e.text.length;return c?d.length-e:e}f.isCollapsed=function(){return 0==this.i.compareEndPoints("StartToEnd",this.i)};f.fa=function(){return this.i.text};f.select=function(){this.i.select()};
f.collapse=function(a){this.i.collapse(a);a?(this.l=this.n,this.t=this.v):(this.n=this.l,this.v=this.t)};function zc(a){this.i=a}q(zc,qc);zc.prototype.Jb=function(a,b){!b||this.isCollapsed()?zc.J.Jb.call(this,a,b):(a.collapse(this.A(),this.F()),a.extend(this.s(),this.B()))};function Ac(a){this.i=a}q(Ac,qc);Ac.prototype.Jb=function(a){a.collapse(this.s(),this.B());this.A()==this.s()&&this.F()==this.B()||a.extend(this.A(),this.F());0==a.rangeCount&&a.addRange(this.i)};function Bc(a){return!y||y&&9<=gb?B?new tc(a):z?new zc(a):Ta?new Ac(a):new qc(a):new uc(a,G(a.parentElement()))}function jc(a){if(!y||y&&9<=gb)a=B?new tc(rc(a)):z?new zc(rc(a)):Ta?new Ac(rc(a)):new qc(rc(a));else{var b=new uc(vc(a),G(a));if(T(a)){for(var c,d=a;(c=d.firstChild)&&T(c);)d=c;b.n=d;b.v=0;for(d=a;(c=d.lastChild)&&T(c);)d=c;b.l=d;b.t=1==d.nodeType?d.childNodes.length:d.length;b.la=a}else b.n=b.l=b.la=a.parentNode,b.v=sa(b.la.childNodes,a),b.t=b.v+1;a=b}return a}
function T(a){return nb(a)||3==a.nodeType};function Cc(){}q(Cc,fc);function ic(a,b){var c=new Cc;c.Ha=a;c.ga=!!b;return c}function Nb(a,b,c,d){var e=new Cc;e.ga=Dc(a,b,c,d);if(ob(a)&&!nb(a)){var g=a.parentNode;b=sa(g.childNodes,a);a=g}ob(c)&&!nb(c)&&(g=c.parentNode,d=sa(g.childNodes,c),c=g);e.ga?(e.n=c,e.v=d,e.l=a,e.t=b):(e.n=a,e.v=b,e.l=c,e.t=d);return e}f=Cc.prototype;f.Ha=null;f.n=null;f.v=null;f.l=null;f.t=null;f.ga=!1;f.clone=function(){var a=new Cc;a.Ha=this.Ha;a.n=this.n;a.v=this.v;a.l=this.l;a.t=this.t;a.ga=this.ga;return a};
f.od=da("text");f.fc=function(){return U(this).i};f.pb=function(){this.n=this.v=this.l=this.t=null};f.Xa=da(1);f.za=function(){return this};
function U(a){var b;if(!(b=a.Ha)){b=a.s();var c=a.B(),d=a.A(),e=a.F();if(!y||y&&9<=gb)b=B?new tc(sc(b,c,d,e)):z?new zc(sc(b,c,d,e)):Ta?new Ac(sc(b,c,d,e)):new qc(sc(b,c,d,e));else{var g=b,k=c,m=d,p=e,s=!1;1==g.nodeType&&(k=g.childNodes[k],s=!k,g=k||g.lastChild||g,k=0);var n=vc(g);k&&n.move("character",k);g==m&&k==p?n.collapse(!0):(s&&n.collapse(!1),s=!1,1==m.nodeType&&(m=(k=m.childNodes[p])||m.lastChild||m,p=0,s=!k),g=vc(m),g.collapse(!s),p&&g.moveEnd("character",p),n.setEndPoint("EndToEnd",g));p=
new uc(n,G(b));p.n=b;p.v=c;p.l=d;p.t=e;b=p}b=a.Ha=b}return b}f.ka=function(){return U(this).ka()};f.s=function(){return this.n||(this.n=U(this).s())};f.B=function(){return null!=this.v?this.v:this.v=U(this).B()};f.ta=function(){return this.V()?U(this).sa():U(this).ta()};f.A=function(){return this.l||(this.l=U(this).A())};f.F=function(){return null!=this.t?this.t:this.t=U(this).F()};f.sa=function(){return this.V()?U(this).ta():U(this).sa()};f.V=ca("ga");
f.ya=function(a,b){var c=a.od();return"text"==c?U(this).ya(U(a),b):"control"==c?(c=Ec(a),(b?va:wa)(c,function(a){return this.containsNode(a,b)},this)):!1};f.isCollapsed=function(){return U(this).isCollapsed()};f.fa=function(){return U(this).fa()};f.Fa=function(){return new oc(this.s(),this.B(),this.A(),this.F())};f.select=function(){U(this).select(this.ga)};f.Kd=function(){return new Fc(this)};
f.collapse=function(a){a=this.V()?!a:a;this.Ha&&this.Ha.collapse(a);a?(this.l=this.n,this.t=this.v):(this.n=this.l,this.v=this.t);this.ga=!1};function Fc(a){this.Ig=a.V()?a.A():a.s();this.Oi=a.V()?a.F():a.B();this.Zg=a.V()?a.s():a.A();this.$i=a.V()?a.B():a.F()}q(Fc,ec);Fc.prototype.O=function(){Fc.J.O.call(this);this.Zg=this.Ig=null};function Gc(){}q(Gc,nc);function Hc(a){var b=new Gc;b.i=a;return b}function Ic(a){for(var b=G(arguments[0]).body.createControlRange(),c=0,d=arguments.length;c<d;c++)b.addElement(arguments[c]);return Hc(b)}f=Gc.prototype;f.i=null;f.P=null;f.Mb=null;f.pb=function(){this.Mb=this.P=null};f.clone=function(){return Ic.apply(this,Ec(this))};f.od=da("control");f.fc=function(){return this.i||document.body.createControlRange()};f.Xa=function(){return this.i?this.i.length:0};
f.za=function(a){a=this.i.item(a);return ic(jc(a),void 0)};f.ka=function(){return tb.apply(null,Ec(this))};f.s=function(){return Jc(this)[0]};f.B=da(0);f.A=function(){var a=Jc(this),b=ra(a);return xa(a,function(a){return pb(a,b)})};f.F=function(){return this.A().childNodes.length};function Ec(a){if(!a.P&&(a.P=[],a.i))for(var b=0;b<a.i.length;b++)a.P.push(a.i.item(b));return a.P}function Jc(a){a.Mb||(a.Mb=Ec(a).concat(),a.Mb.sort(function(a,c){return a.sourceIndex-c.sourceIndex}));return a.Mb}
f.isCollapsed=function(){return!this.i||!this.i.length};f.fa=da("");f.Fa=function(){return new Kc(this)};f.select=function(){this.i&&this.i.select()};f.Kd=function(){return new Lc(this)};f.collapse=function(){this.i=null;this.pb()};function Lc(a){this.P=Ec(a)}q(Lc,ec);Lc.prototype.O=function(){Lc.J.O.call(this);delete this.P};function Kc(a){a&&(this.P=Jc(a),this.n=this.P.shift(),this.l=ra(this.P)||this.n);ac.call(this,this.n,!1,!0)}q(Kc,kc);f=Kc.prototype;f.n=null;f.l=null;f.P=null;f.s=ca("n");
f.A=ca("l");f.xb=function(){return!this.depth&&!this.P.length};f.next=function(){if(this.xb())throw Yb;if(!this.depth){var a=this.P.shift();bc(this,a,1,1);return a}return Kc.J.next.call(this)};f.pa=function(a){this.P=a.P;this.n=a.n;this.l=a.l;Kc.J.pa.call(this,a)};f.clone=function(){var a=new Kc(null);a.pa(this);return a};function Mc(){this.oa=[];this.Gb=[];this.bc=this.eb=null}q(Mc,nc);f=Mc.prototype;f.pb=function(){this.Gb=[];this.bc=this.eb=null};f.clone=function(){var a=new Mc;a.oa=za(this.oa);return a};f.od=da("mutli");f.fc=function(){return this.oa[0]};f.Xa=function(){return this.oa.length};f.za=function(a){this.Gb[a]||(this.Gb[a]=ic(Bc(this.oa[a]),void 0));return this.Gb[a]};f.ka=function(){if(!this.bc){for(var a=[],b=0,c=this.Xa();b<c;b++)a.push(this.za(b).ka());this.bc=tb.apply(null,a)}return this.bc};
function Nc(a){a.eb||(a.eb=hc(a),a.eb.sort(function(a,c){var d=a.s(),e=a.B(),g=c.s(),k=c.B();return d==g&&e==k?0:Dc(d,e,g,k)?1:-1}));return a.eb}f.s=function(){return Nc(this)[0].s()};f.B=function(){return Nc(this)[0].B()};f.A=function(){return ra(Nc(this)).A()};f.F=function(){return ra(Nc(this)).F()};f.isCollapsed=function(){return 0==this.oa.length||1==this.oa.length&&this.za(0).isCollapsed()};f.fa=function(){return ua(hc(this),function(a){return a.fa()}).join("")};f.Fa=function(){return new Oc(this)};
f.select=function(){var a=gc(this.Ke());a.removeAllRanges();for(var b=0,c=this.Xa();b<c;b++)a.addRange(this.za(b).fc())};f.Kd=function(){return new Pc(this)};f.collapse=function(a){if(!this.isCollapsed()){var b=a?this.za(0):this.za(this.Xa()-1);this.pb();b.collapse(a);this.Gb=[b];this.eb=[b];this.oa=[b.fc()]}};function Pc(a){this.df=ua(hc(a),function(a){return a.Kd()})}q(Pc,ec);Pc.prototype.O=function(){Pc.J.O.call(this);x(this.df,function(a){a.bd()});delete this.df};
function Oc(a){a&&(this.Aa=ua(Nc(a),function(a){return $b(a)}));kc.call(this,a?this.s():null,!1)}q(Oc,kc);f=Oc.prototype;f.Aa=null;f.cc=0;f.s=function(){return this.Aa[0].s()};f.A=function(){return ra(this.Aa).A()};f.xb=function(){return this.Aa[this.cc].xb()};f.next=function(){try{var a=this.Aa[this.cc],b=a.next();bc(this,a.D,a.ca,a.depth);return b}catch(c){if(c!==Yb||this.Aa.length-1==this.cc)throw c;this.cc++;return this.next()}};f.pa=function(a){this.Aa=za(a.Aa);Oc.J.pa.call(this,a)};
f.clone=function(){var a=new Oc(null);a.pa(this);return a};function Qc(a){return(a=gc(a||window))&&Rc(a)}function Rc(a){var b,c=!1;if(a.createRange)try{b=a.createRange()}catch(d){return null}else if(a.rangeCount){if(1<a.rangeCount){b=new Mc;for(var c=0,e=a.rangeCount;c<e;c++)b.oa.push(a.getRangeAt(c));return b}b=a.getRangeAt(0);c=Dc(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)}else return null;return b&&b.addElement?Hc(b):ic(Bc(b),c)}
function Dc(a,b,c,d){if(a==c)return d<b;var e;if(1==a.nodeType&&b)if(e=a.childNodes[b])a=e,b=0;else if(pb(a,c))return!0;if(1==c.nodeType&&d)if(e=c.childNodes[d])c=e,d=0;else if(pb(c,a))return!1;return 0<(qb(a,c)||b-d)};function V(a){this.config(a);this.re=null}var W={Gc:0,Pa:1,jb:2,rf:4};V.prototype.config=function(a){this.options=a||Sc;this.ve=!1};
V.prototype.nb=function(a){if(!a||a.isCollapsed())a=W.Gc;else if(a=a.fa(),this.ve)a=W.Pa;else{var b=v.a.b.ec([v.b.e.ie,"\\d"]);v.a.b.ec([v.b.e.Oa]).test(a)?b.test(a)?(b=v.b.e.fd(a),a=b*this.options.Oc.na.kb+(a.length-b)*this.options.Oc.na.Ea<=this.options.Ic.na&&v.b.e.fd(a)<=this.options.Ic.Wb?W.Pa:W.jb):a=v.b.e.fd(a)<=this.options.kb.na?W.Pa:W.jb:a=b.test(a)?a.length*this.options.Oc.na.Ea<=this.options.Ea.na&&v.b.e.$g(a)<=this.options.Ea.Wb?W.Pa:W.jb:W.Gc}return a};
V.prototype.$h=function(){this.ve=!0};var Tc=[v.b.e.Oa,v.b.e.je];V.prototype.complete=function(a){a=v.a.b.jh(a);var b=a.s(),c=a.B(),d=a.A();a=a.F();var e=v.a.b.ec(Tc),g,k;b.nodeValue=" "+b.nodeValue;g=c+=1;e.test(b.nodeValue[c])||(g=v.b.e.indexOf(b.nodeValue,e,c,!0),g++);e.lastIndex=0;b.nodeValue=b.nodeValue.slice(1);g--;c--;d.nodeValue+=" ";k=a;e.test(d.nodeValue[a-1])||(k=v.b.e.indexOf(d.nodeValue,e,a-1,!1));e.lastIndex=0;d.nodeValue=d.nodeValue.slice(0,-1);this.re=Nb(b,c,d,a);return Nb(b,g,d,k)};
V.prototype.trim=function(a){var b=a.s(),c=a.B(),d=a.A();a=a.F();var e=v.a.b.ec([v.b.e.je],!0),g;g=v.b.e.indexOf(b.nodeValue,e,c,!1);e.lastIndex=0;c=-1===g?c:g;g=v.b.e.indexOf(d.nodeValue,e,a-1,!0);e.lastIndex=0;a=(-1===g?a-1:g)+1;a=v.a.b.Ka(d,a);d=a.D;a=a.offset;return Nb(b,c,d,a)};var Sc={Ea:{na:30,Wb:4},kb:{na:8},Ic:{Wb:8,na:30},Oc:{na:{Ea:1,kb:2},Wb:{Ea:2,kb:1}}};v.a.Qubi=V;V.prototype.check=V.prototype.nb;V.prototype.complete=V.prototype.complete;V.prototype.trim=V.prototype.trim;
V.prototype.skipValidate=V.prototype.$h;(function(){function a(a){var c=v.a,d;for(d in a)a.hasOwnProperty(d)&&"function"===typeof a[d]&&function(){var e=d;c[e]=function(){a[e].apply(a,arguments)}}()}v.a.initialize=function(){v.a.w.initialize.apply(v.a.w,arguments)};a(v.a.data);a(v.a.action)})();v.a.cookie=v.a.b.cookie;v.a.I=v.a.b.I;v.a.zd=new Vb;v.a.va=new R;v.a.Ac=new S;v.a.range=new R;v.a.search=new S;v.a.quote=new Ob;v.a.qubi=new V;v.a.qmark=new cc;window.pintex=v;v.core=v.a;v.a.initialize=v.a.initialize;v.a.cookie=v.a.cookie;
v.a.storage=v.a.I;v.a.locator=v.a.zd;v.a.rangeStrategy=v.a.va;v.a.searchStrategy=v.a.Ac;v.a.range=v.a.range;v.a.search=v.a.search;v.a.qubi=v.a.qubi;v.a.qmark=v.a.qmark;v.a.quote=v.a.quote;v.a.controller={};v.a.controller.oe=function(a,b,c){this.f=a;this.p=b;this.j=c||window;this.d=this.j.document};
(function(){var a=v.a.controller.oe;a.prototype.Yg=function(a){var c=this;v.a.ub(function(d){d?v.a.hb(function(e){d.config=e;c.f.set(d);a&&a(c.f)}):a&&a(c.f)})};a.prototype.T=function(a,c){var d=this;v.a.T(a,function(a){a&&v.a.hb(function(b){a.config=b;d.f.set(a)});c&&c()});return this};a.prototype.logout=function(a){var c=this;v.a.logout(function(){c.f.clear();a&&a()});return this};a.prototype.ha=function(a,c,d){var e=Ga(this.f.attributes.config);e[a]=c;this.f.set({config:e});v.a.hb(this.f.attributes.config,
d);return this};a.prototype.Gg=function(){this.f.attributes.uid&&this.p.Ib()};a.prototype.Eg=function(){this.f.attributes.config&&this.p.Hb()};a.prototype.enable=function(){this.f.on("change:uid",this.Gg,this);this.f.on("change:config",this.Eg,this);return this};a.prototype.disable=function(){this.f.off("change:uid");this.f.off("change:config");return this}})();v.a.controller.ge=function(a,b){this.p=a;this.j=b||window;this.d=this.j.document};(function(){var a=v.a.controller.ge;a.prototype.nb=function(a){return v.a.qubi.nb(a)};a.prototype.complete=function(a){a=v.a.qubi.complete(a);return v.a.qubi.nb(a)?v.a.qubi.trim(a):v.a.qubi.trim(v.a.qubi.re)};a.prototype.enable=ba();a.prototype.disable=ba()})();v.a.controller.ce=function(a,b,c,d){this.f=a;this.r=b;this.p=c;this.j=d||window;this.d=this.j.document;return this};
(function(){var a=v.a.controller.ce;a.prototype.aa=v.b.qb(function(a,c){this.f.attributes.uid?this.f.attributes.config.rememberLike||a.liked?this.zg(c):(a.liked=!0,this.p.Lb(this.r)):this.p.xd(this.r);return this});a.prototype.zg=function(a){var c=this;v.a.aa(c.f.attributes.uid,c.r.attributes.qid,c.f.attributes.config,function(d){d&&(c.r.set(d),c.r.set({liked_count:d.liked_count,liked_users:d.liked_users,liked:!0}),a&&a())})};a.prototype.Fg=function(){this.r.attributes.liked_users&&this.p.bb(this.r)};
a.prototype.enable=function(){this.r.on("change:liked",this.Fg,this);return this};a.prototype.disable=function(){this.r.off("change:liked");return this}})();v.h={};
v.h.k=function(){function a(b,d){for(var e in b)"object"===typeof b[e]?a(b[e],d+"-"+e):b[e]=d+"-"+b[e]}var b={mj:"locker",bi:"stylesheet",container:"container",msgbox:"msgbox",qinfo:{container:"container",creator:"creator",creatorAvatar:"creator-avatar",creatorLink:"creator-link",avatar:"avatar",link:"link",followerWrap:"follower-wrap",follower:"follower",nopeople:"nopeople",like:"like",username:"username",count:"count",prompt:"prompt",qlink:{container:"container",tag:"tag",wrap:"wrap",text:"text",content:"content",
entrance:{container:"container",Pe:"line",xj:"triangle"}},rj:{container:"container",add:"add",form:"form",expire:"expire",url:"url",create:"create"}},remember:{container:"container",share:"share",shareInput:"share-input",Yh:"share-label",commit:"commit",commitInput:"commit-input",Ng:"commit-label"},qpointTag:"qpoint-tag",panel:{container:"container",entrance:"entrance",prelogin:"prelogin",sinalogin:"sinalogin",postlogin:"postlogin",icon:"icon",userinfo:"userinfo",avatarWrap:"avatar-wrap",avatar:"avatar",
setting:{container:"container",title:"title",add:"add",addInput:"add-input",like:"like",likeInput:"like-input"},logout:"logout"},qubi:{container:"container",start:"start",end:"end"},qmark:{container:"container",icon:"icon",text:"text",question:"question",prompt:"prompt"}};a(b,"pintex");return{e:{Ud:"\u767b\u5f55",Vd:"\u9000\u51fa",le:"\u540c\u6b65\u5230\u5fae\u535a",mg:"\u6211\u6dfb\u52a0\u7684\u8da3\u70b9",ng:"\u6211\u7b7e\u5230\u7684\u8da3\u70b9",eg:"\u8bb0\u4f4f\u6211\u7684\u9009\u62e9",Hc:"\u8bf7\u767b\u5f55\u4ee5\u5b8c\u6210\u64cd\u4f5c",
Qd:"\u6b64\u5904\u5df2\u7ecf\u5b58\u5728\u8da3\u70b9",Rd:"\u9875\u9762\u8da3\u70b9\u6570\u8fbe\u5230\u4e0a\u9650",tg:"\u4ec0\u4e48\u662f\u8da3\u70b9?",Kf:"\u6709\u8da3\uff1f\u70b9\u4e00\u4e0b\uff01",kf:"\u589e\u52a0\u8da3\u7ec4",li:"\u521b\u5efa\u8da3\u7ec4",Ai:"\u8fc7\u671f\u65f6\u95f4(\u5929)",Bi:"\u5339\u914d\u524d\u7f00"},Zf:10,Fi:300,url:{hh:"http://qudian.so",Fd:"http://qudian.so",tj:"http://qudian.so",w:v.a.k.Nc,gi:"http://e.weibo.com/qudianso"},offset:{Rf:0.2,Di:2,Ei:134,Ci:204,Sf:3,yi:17,
$d:3,Lc:1,Tb:7,Ub:5,Mf:84,Wd:29,gg:32,hg:12,Uf:12,Qf:70,nf:"0px -220px",of:"-155px -220px",Lf:"0px -340px",wi:"-117px -156px",vi:"-79px -156px",Vf:120,Wf:158,Xf:197,Yf:204,pf:-35,ji:5},time:{fg:3E3,pg:300,If:300,Ef:1E3,Hf:2E3,og:2E3,xi:600,tf:5E3,qf:1E4,me:300,Ff:4E3,Gf:1E3},c:b}}();v.a.controller.de=function(a,b,c,d){this.f=a;this.L=b;this.p=c;this.j=d||window;this.d=this.j.document};f=v.a.controller.de.prototype;f.M=v.b.qb(function(a,b,c){this.f.attributes.uid?Uc(this,v.a.zd.W(b,this.d))?this.p.Wc(c):this.L.models.length>=v.h.k.Zf?this.p.Xc(c):this.f.attributes.config.rememberAdd||a.range===b?Vc(this,b,c):(a.range=b,this.p.Kb(c)):this.p.Yc(c);return this});
function Vc(a,b,c){var d=Ga(a.f.attributes.config);d.d=a.d;v.a.M(a.f.attributes.uid,b,a.j.location.href,d,function(b){a.L.add(b);c&&c()})}f.Dg=function(a){var b=this.p.cb(a),c=(new v.a.controller.ce(this.f,a,this.p,this.j)).enable();a.view=b;a.controller=c};f.Hg=function(a){this.p.Ra(a);a.clear()};f.dc=function(){v.b.error("Override fetchQpointList method in subclass")};f.Zc=function(a){var b=this;x([].slice.call(b.L.models),function(a){b.L.remove(a)});a&&a();return this};
function Uc(a,b){var c,d,e,g;c=+b.range_loc.split(";")[0];e=+b.range_loc.split(";")[1];return va(a.L.models,function(a){a=a.attributes;d=+a.range_loc.split(";")[0];g=+a.range_loc.split(";")[1];if(d>c&&d<e||g>c&&g<e||c>d&&c<g||e>d&&e<g||c===d&&e===g)return!0})}f.enable=function(){this.L.on("add",this.Dg,this);this.L.on("remove",this.Hg,this);return this};f.disable=function(){this.L.off("add");this.L.off("remove");return this};v.a.controller.Yd=v.b.dh(function(){this.parent.apply(this,arguments)});v.a.controller.Yd.prototype.dc=function(a){var b=this;b.Zc();v.a.hc(b.j.location.href,{uid:this.f.attributes.uid},function(c){c&&x(c,function(a){Uc(b,a)||b.L.add(a)});a&&a(c)});return this};v.m={};v.m.controller={};v.m.controller.Jc=function(a,b,c){this.f=a;this.L=b;this.j=c;a=v.a.controller;this.La=new a.Yd(this.f,this.L,this,this.j);this.ib=new a.oe(this.f,this,this.j);this.Hd=new a.ge(this,this.j)};
(function(){var a=v.m.controller.Jc;a.prototype.initialize=function(a,c){var d=this;d.view=a;v.a.initialize(function(){d.ib.Yg(function(){d.La.dc(c)})});return this};a.prototype.enable=function(){this.Ug().Vg().cd();return this};a.prototype.disable=function(){this.Rg().ze().ad();return this};a.prototype.Ug=function(){this.La.enable();return this};a.prototype.Rg=function(){this.La.disable();return this};a.prototype.Vg=function(){this.ib.enable();return this};a.prototype.ze=function(){this.ib.disable();
return this};a.prototype.cd=function(){this.Hd.enable();return this};a.prototype.ad=function(){this.Hd.disable();return this};a.prototype.M=function(a,c){this.La.M(a,c);return this};a.prototype.Yc=function(a){this.view.Yc(a);return this};a.prototype.Wc=function(a){this.view.Wc(a);return this};a.prototype.Xc=function(a){this.view.Xc(a);return this};a.prototype.Kb=function(a){this.view.Kb(a);return this};a.prototype.cb=function(a){return this.view.cb(a)};a.prototype.ob=function(a){if(!a)return W.Gc;
var c={range_loc:v.a.range.W(a).join(";")};return Uc(this.La,c)?W.rf:this.Hd.nb(a)};a.prototype.aa=function(a){a.controller.aa();return this};a.prototype.xd=function(a){this.view.xd(a);return this};a.prototype.Lb=function(a){this.view.Lb(a);return this};a.prototype.bb=function(a){this.view.bb(a);return this};a.prototype.ha=function(a,c){this.ib.ha(a,c);return this};a.prototype.Ib=function(){this.view.Ib();return this};a.prototype.Hb=function(){this.view.Hb();return this};a.prototype.T=function(a,
c){var d=this;d.ib.T(a,function(){d.La.dc(c)});return this};a.prototype.logout=function(a){var c=this;c.ib.logout(function(){c.La.dc(a)});return this};a.prototype.Ra=function(a){this.view.Ra(a);return this}})();function Wc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}f=Wc.prototype;f.clone=function(){return new Wc(this.left,this.top,this.width,this.height)};f.intersection=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};
f.difference=function(a){var b;b:{b=Math.max(this.left,a.left);var c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top),e=Math.min(this.top+this.height,a.top+a.height);if(d<=e){b=new Wc(b,d,c-b,e-d);break b}}b=null}if(b&&b.height&&b.width){b=[];var c=this.top,d=this.height,e=this.left+this.width,g=this.top+this.height,k=a.left+a.width,m=a.top+a.height;a.top>this.top&&(b.push(new Wc(this.left,this.top,this.width,a.top-this.top)),c=a.top,d-=a.top-this.top);m<g&&(b.push(new Wc(this.left,
m,this.width,g-m)),d=m-c);a.left>this.left&&b.push(new Wc(this.left,c,a.left-this.left,d));k<e&&b.push(new Wc(k,c,e-k,d));a=b}else a=[this.clone()];return a};f.contains=function(a){return a instanceof Wc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
f.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Xc(a,b){var c;a:{c=G(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function X(a,b,c){var d,e=z&&(Na||Oa)&&C("1.9");b instanceof F?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Yc(d,e);a.style.top=Yc(b,e)}
function Zc(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}y&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function bd(a){if(y&&!(y&&8<=gb))return a.offsetParent;var b=G(a),c=Xc(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Xc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}function Yc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function cd(a){var b=a.offsetWidth,c=a.offsetHeight,d=B&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=Zc(a),new hb(a.right-a.left,a.bottom-a.top)):new hb(b,c)}
function dd(a){var b,c=G(a),d=Xc(a,"position"),e=z&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new F(0,0),k;b=c?G(c):document;(k=!y)||(k=y&&9<=gb)||(k="CSS1Compat"==(b?new I(G(b)):Aa||(Aa=new I)).ja.compatMode);k=k?b.documentElement:b.body;if(a!=k)if(a.getBoundingClientRect)b=Zc(a),c=(c?new I(G(c)):Aa||(Aa=new I)).U(),g.x=b.left+c.x,g.y=b.top+c.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),c=c.getBoxObjectFor(k),g.x=
b.screenX-c.screenX,g.y=b.screenY-c.screenY;else{e=a;do{g.x+=e.offsetLeft;g.y+=e.offsetTop;e!=a&&(g.x+=e.clientLeft||0,g.y+=e.clientTop||0);if(B&&"fixed"==Xc(e,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(Ta||B&&"absolute"==d)g.y-=c.body.offsetTop;for(e=a;(e=bd(e))&&e!=c.body&&e!=k;)g.x-=e.scrollLeft,Ta&&"TR"==e.tagName||(g.y-=e.scrollTop)}"none"!=Xc(a,"display")?a=cd(a):(c=a.style,d=c.display,e=c.visibility,b=c.position,c.visibility="hidden",
c.position="absolute",c.display="inline",a=cd(a),c.display=d,c.position=b,c.visibility=e);return new Wc(g.x,g.y,a.width,a.height)};function ed(){N.call(this);this.Z=new Bb(this);this.Cg=this}q(ed,N);ed.prototype[xb]=!0;f=ed.prototype;f.Ed=null;f.addEventListener=function(a,b,c,d){K.u(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){K.K(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.Ed;if(c)for(b=[];c;c=c.Ed)b.push(c);var c=this.Cg,d=a.type||a;if(l(a))a=new Ib(a,c);else if(a instanceof Ib)a.target=a.target||c;else{var e=a;a=new Ib(d,c);Ia(a,e)}var e=!0,g;if(b)for(var k=b.length-1;!a.Ca&&0<=k;k--)g=a.currentTarget=b[k],e=g.Ta(d,!0,a)&&e;a.Ca||(g=a.currentTarget=c,e=g.Ta(d,!0,a)&&e,a.Ca||(e=g.Ta(d,!1,a)&&e));if(b)for(k=0;!a.Ca&&k<b.length;k++)g=a.currentTarget=b[k],e=g.Ta(d,!1,a)&&e;return e};
f.O=function(){ed.J.O.call(this);this.Z&&this.Z.Id(void 0);this.Ed=null};f.u=function(a,b,c,d){return this.Z.add(a,b,!1,c,d)};f.zb=function(a,b,c,d){return this.Z.add(a,b,!0,c,d)};f.K=function(a,b,c,d){return this.Z.remove(a,b,c,d)};f.gb=function(a){return Db(this.Z,a)};f.Ta=function(a,b,c){a=this.Z.C[a];if(!a)return!0;a=za(a);for(var d=!0,e=0;e<a.length;++e){var g=a[e];if(g&&!g.ab&&g.capture==b){var k=g.Ja,m=g.kc||g.src;g.$b&&this.gb(g);d=!1!==k.call(m,c)&&d}}return d&&!1!=c.bf};
f.vb=function(a,b){return this.Z.vb(a,b)};f.Va=function(a,b,c,d){return this.Z.Va(a,b,c,d)};f.wb=function(a,b){return this.Z.wb(a,b)};function fd(a,b,c){N.call(this);this.yd=a;this.fh=b||0;this.Me=c;this.Kg=na(this.Sg,this)}q(fd,N);f=fd.prototype;f.Ya=0;f.O=function(){fd.J.O.call(this);this.stop();delete this.yd;delete this.Me};f.start=function(a){this.stop();var b=this.Kg;a=void 0!==a?a:this.fh;if("function"!=fa(b))if(b&&"function"==typeof b.handleEvent)b=na(b.handleEvent,b);else throw Error("Invalid listener argument");this.Ya=2147483647<a?-1:h.setTimeout(b,a||0)};
f.stop=function(){0!=this.Ya&&h.clearTimeout(this.Ya);this.Ya=0};f.Sg=function(){this.Ya=0;this.yd&&this.yd.call(this.Me)};var Ca={},gd=null;function hd(a){a=ia(a);delete Ca[a];Fa()&&gd&&gd.stop()}function id(){gd||(gd=new fd(function(){jd()},20));var a=gd;0!=a.Ya||a.start()}function jd(){var a=oa();Ba(function(b){kd(b,a)});Fa()||id()};function ld(){ed.call(this);this.ma=md;this.Be=this.startTime=null}q(ld,ed);var md=0;ld.prototype.Cd=function(){this.ra("begin")};ld.prototype.qc=function(){this.ra("end")};ld.prototype.ra=function(a){this.dispatchEvent(a)};function nd(a,b,c,d){ld.call(this);if(!ga(a)||!ga(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Nb=a;this.Xg=b;this.duration=c;this.we=d;this.coords=[];this.fi=!1}q(nd,ld);f=nd.prototype;f.De=0;f.ba=0;f.vd=null;
f.play=function(a){if(a||this.ma==md)this.ba=0,this.coords=this.Nb;else if(1==this.ma)return!1;hd(this);this.startTime=a=oa();-1==this.ma&&(this.startTime-=this.duration*this.ba);this.Be=this.startTime+this.duration;this.vd=this.startTime;this.ba||this.Cd();this.ra("play");-1==this.ma&&this.ra("resume");this.ma=1;var b=ia(this);b in Ca||(Ca[b]=this);id();kd(this,a);return!0};f.stop=function(a){hd(this);this.ma=md;a&&(this.ba=1);od(this,this.ba);this.ra("stop");this.qc()};
f.O=function(){this.ma==md||this.stop(!1);this.ra("destroy");nd.J.O.call(this)};f.destroy=function(){this.bd()};function kd(a,b){a.ba=(b-a.startTime)/(a.Be-a.startTime);1<=a.ba&&(a.ba=1);a.De=1E3/(b-a.vd);a.vd=b;od(a,a.ba);1==a.ba?(a.ma=md,hd(a),a.ra("finish"),a.qc()):1==a.ma&&a.Bd()}function od(a,b){"function"==fa(a.we)&&(b=a.we(b));a.coords=Array(a.Nb.length);for(var c=0;c<a.Nb.length;c++)a.coords[c]=(a.Xg[c]-a.Nb[c])*b+a.Nb[c]}f.Bd=function(){this.ra("animate")};
f.ra=function(a){this.dispatchEvent(new pd(a,this))};function pd(a,b){Ib.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.ba=b.ba;this.aj=b.De;this.state=b.ma;this.Pi=b}q(pd,Ib);function Z(a,b,c,d,e){nd.call(this,b,c,d,e);this.element=a}q(Z,nd);Z.prototype.Pb=ea;Z.prototype.Bd=function(){this.Pb();Z.J.Bd.call(this)};Z.prototype.qc=function(){this.Pb();Z.J.qc.call(this)};Z.prototype.Cd=function(){this.Pb();Z.J.Cd.call(this)};function qd(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Z.apply(this,arguments)}q(qd,Z);
qd.prototype.Pb=function(){var a;if(a=this.fi)void 0===this.cf&&(this.cf="rtl"==Xc(this.element,"direction")),a=this.cf;this.element.style[a?"right":"left"]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function rd(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Z.apply(this,arguments)}q(rd,Z);
rd.prototype.Pb=function(){this.element.style.width=Math.round(this.coords[0])+"px";this.element.style.height=Math.round(this.coords[1])+"px"};var sd={};y&&C(8);function $(a){return a&&a.Og&&a.Og===sd?a.content:String(a).replace(td,ud)}var vd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ud(a){return vd[a]}var td=/[\x00\x22\x26\x27\x3c\x3e]/g;v.h.S={};v.h.S.container=function(a){return'<div id="'+$(a.c.container)+'" onselectstart="return false;"></div>'};v.h.S.msgbox=function(a){return'<div id="'+$(a.c.msgbox)+'"></div>'};
v.h.S.qinfo=function(a){for(var b='\x3c!--div id="'+$(a.c.qinfo.container)+'"--\x3e<div id="'+$(a.c.qinfo.creator)+'"><a href="'+$(a.url.Fd)+"/u/"+$(a.r.user_simple.uid)+'" class="'+$(a.c.qinfo.creatorLink)+'" target="_blank"><img class="'+$(a.c.qinfo.creatorAvatar)+'" src="'+$(a.r.user_simple.profile_image_url)+'" alt="'+$(a.r.user_simple.uname)+'"></a></div><ul id="'+$(a.c.qinfo.followerWrap)+'">',c=4<a.r.liked_users.length?4:a.r.liked_users.length,d=0;d<c;d++)var e=a.r.liked_users[d],b=b+('<li class="'+
$(a.c.qinfo.follower)+'"><a class="'+$(a.c.qinfo.link)+'" href="'+$(a.url.Fd)+"/u/"+$(e.user_simple.uid)+'" target="_blank"><img src="'+$(e.user_simple.profile_image_url)+'" alt="'+$(e.user_simple.uname)+'" class="'+$(a.c.qinfo.avatar)+'"></a></li>');b+="</ul>"+(a.uid!=a.r.user_simple.uid||a.r.liked_count?a.uid==a.r.user_simple.uid||a.r.liked?"":'<div id="'+$(a.c.qinfo.like)+'"></div>':'<div id="'+$(a.c.qinfo.nopeople)+'"></div>')+'<div id="'+$(a.c.qinfo.username)+'"></div><span id="'+$(a.c.qinfo.count)+
'">'+$(a.r.liked_count)+'</span><div id="'+$(a.c.qinfo.prompt)+'">'+$(a.e.Kf)+'</div><div class="'+$(a.c.qinfo.qlink.entrance.container)+'"><div class="'+$(a.c.qinfo.qlink.entrance.Pe)+'"></div></div><div id="'+$(a.c.qinfo.qlink.container)+'"><div id="'+$(a.c.qinfo.qlink.wrap)+'"><div class="'+$(a.c.qinfo.qlink.content)+'">';if(a.r.qlinks)for(c=Math.min(a.r.qlinks.length,6),d=0;d<c;d++)b+='<a href="'+$(a.r.qlinks[d].qid_end.qurl)+'" target="_blank"><span id="'+$(a.c.qinfo.qlink.text)+'">'+$(a.r.qlinks[d].qid_end.qtext)+
"</span></a>";return b+"</div></div></div>\x3c!--/div--\x3e"};
v.h.S.remember=function(a){return'\t<ul id="'+$(a.c.remember.container)+'"><li id="'+$(a.c.remember.share)+'"><input id="'+$(a.c.remember.shareInput)+'" checked type="checkbox"><label id="'+$(a.c.remember.Yh)+'" for="'+$(a.c.remember.shareInput)+'">'+$(a.e.le)+'</label></li><li id="'+$(a.c.remember.commit)+'"><input id="'+$(a.c.remember.commitInput)+'" checked type="checkbox"><label id="'+$(a.c.remember.Ng)+'" for="'+$(a.c.remember.commitInput)+'">'+$(a.e.eg)+"</label></li></ul>"};v.h.view={};v.h.view.Xd=function(a,b){this.p=a;this.j=b||window;this.d=this.j.document;this.c=v.h.k.c;this.e=v.h.k.e;this.offset=v.h.k.offset;this.time=v.h.k.time};
(function(){var a=v.h.view.Xd;a.prototype.enable=function(){return this.create()};a.prototype.disable=function(){return this.qa()};a.prototype.create=function(){var a=v.b.g.o(this.c.container,this.d),c=mb(v.h.S.msgbox(v.h.k));a.appendChild(c);this.elements={msgbox:c};return this};a.prototype.qa=function(){this.elements.msgbox.parentNode.removeChild(this.elements.msgbox);return this};a.prototype.show=function(a,c,d){var e=this,g;switch(a){case this.e.Qd:g=this.offset.nf;break;case this.e.Rd:g=this.offset.of;
break;case this.e.Hc:g=this.offset.Lf}this.elements.msgbox.style.backgroundPosition=g;this.elements.msgbox.style.display="block";c?(g=v.b.g.U(this.d),a=c.getBoundingClientRect().left,g=c.getBoundingClientRect().top+g.y+this.offset.Qf):(a=0.5*this.d.body.offsetWidth+v.b.g.U(this.d).x,g=0.4*this.j.screen.availHeight+v.b.g.U(this.d).y);a+this.elements.msgbox.getBoundingClientRect().width>this.d.body.offsetWidth&&(a=a-this.elements.msgbox.getBoundingClientRect().width+c.getBoundingClientRect().width);
X(this.elements.msgbox,a,g);setTimeout(function(){e.elements.msgbox.style.display="none";d&&d()},this.time.og);return this}})();v.m.view={};v.m.view.he=function(a,b){this.p=a;this.j=b;this.d=b.document;this.offset=v.h.k.offset;this.time=v.h.k.time;this.c=v.h.k.c;this.oc=this.range=this.mb=null};f=v.m.view.he.prototype;f.enable=function(){return this.create().u()};f.disable=function(){return this.K().qa()};
f.create=function(){var a=v.b.g.o(this.c.container,this.d),b=mb(v.m.S.qubi(v.h.k));a.appendChild(b);this.elements={container:a,qubi:b,start:v.b.g.o(this.c.qubi.start,this.d),end:v.b.g.o(this.c.qubi.end,this.d),qmark:v.b.g.o(this.c.qmark.container,this.d),vc:v.b.g.o(this.c.qmark.text,this.d),$e:v.b.g.o(this.c.qmark.icon,this.d),Gd:v.b.g.o(this.c.qmark.question,this.d),Db:v.b.g.o(this.c.qmark.prompt,this.d)};this.ea=[[this.elements.container,[["mouseup",Kb],["mousedown",Kb],["click",Kb]]],[this.d,[["mousedown",
this.mh],["click",this.Ab]]],[this.j,"resize",this.Rh],[this.elements.Gd,[["mouseover",this.Lh],["mouseout",this.Kh]]],[this.elements.Db,[["mouseover",this.Jh],["mouseout",this.Ih]]],[this.elements.$e,"click",this.Hh],[this.elements.vc,"click",this.Mh]];return this};f.qa=function(){this.elements.qubi.parentNode.removeChild(this.elements.qubi);return this};f.u=function(){v.b.H.wc(this.ea,this);K.u(this.d,"mouseup",this.Ye,!0,this);return this};
f.K=function(){v.b.H.Bc(this.ea,this);K.K(this.d,"mouseup",this.Ye,!0,this);return this};f.mh=function(){wd(xd(this));K.u(this.d.body,"mousemove",this.Xe,!1,this)};f.Xe=function(){yd(this)};f.Ye=function(){K.K(this.d.body,"mousemove",this.Xe,!1,this);var a=Qc(this.j);this.range&&a&&(this.p.ob(a)!==W.Pa&&(a=this.range),zd(Ad(this,a),a),this.mb=this.range,this.range=null)};f.Ab=function(){var a=Qc(this.j);a&&a.fa()||wd(xd(this))};f.Rh=function(){Ad(zd(this,this.range),this.range)};
function yd(a){var b,c,d,e,g=Qc(a.j);b=a.p.ob(g);if(b===W.Pa)a.range=g,zd(a,a.range);else if(b===W.jb){d=g.V();c=function(a){d?a[0]--:a[1]++};a.range&&Bd(g,a.range)?b=v.a.va.W(a.range):(b=v.a.va.W(g),d?b[0]=b[1]:b[1]=b[0]);for(e=v.a.va.ia(b);a.p.ob(e)!==W.jb;)g=e,c(b),e=v.a.va.ia(b);a.range=g;zd(a,a.range)}}function Bd(a,b){var c=a.fa(),d=b.fa();return 0===c.indexOf(d)||c.indexOf(d)===c.length-d.length}
f.wh=function(){var a=this;setTimeout(function(){a.elements.Gd.style.display="block"},this.time.me);this.elements.vc.style.display="block";(new rd(this.elements.vc,[0,this.offset.Wd],[this.offset.Mf,this.offset.Wd],this.time.me)).play()};f.Lh=function(){clearTimeout(this.oc);this.elements.Db.style.display="block"};f.Kh=function(){var a=this;a.oc=setTimeout(function(){a.elements.Db.style.display="none"},this.time.Hf)};f.Jh=function(){clearTimeout(this.oc)};
f.Ih=function(){var a=this;a.oc=setTimeout(function(){a.elements.Db.style.display="block"},400)};f.Hh=function(){this.M()};f.Mh=function(){this.M()};function zd(a,b){if(b&&!b.isCollapsed()){var c=b.ta().x,d=b.ta().y,e=b.sa().x,g=b.sa().y;b.V()?Cd(Dd(a,e,g),c,d):Cd(Dd(a,c,d),e,g)}return a}function wd(a){a.elements.start.style.display="none";a.elements.end.style.display="none"}
function Dd(a,b,c){a.elements.start.style.display="inline";var d=v.b.g.U(a.d);X(a.elements.start,b+d.x+a.offset.$d-6,c+d.y-a.elements.start.offsetHeight+a.offset.Lc);return a}function Cd(a,b,c){a.elements.end.style.display="inline";var d=v.b.g.U(a.d);X(a.elements.end,b+d.x-a.elements.end.offsetWidth+a.offset.$d,c+d.y-a.offset.Lc-6+a.offset.Lc)}
function Ad(a,b){if(b&&!b.isCollapsed()){var c,d,e;b.V()?(c=b.ta().x,d=b.ta().y):(c=b.sa().x,d=b.sa().y);e=v.b.g.U(a.d);c=c+e.x+a.offset.Tb;d=d+e.y+a.offset.Ub;c+a.offset.Of>a.j.innerWidth+e.x&&(c=c-a.offset.Of-a.offset.Tb);d+a.offset.Nf>a.j.innerHeight+e.y&&(d=d-a.offset.Nf-a.offset.Ub);X(a.elements.qmark,c,d);K.zb(a.elements.$e,"mouseover",a.wh,!1,a);a.elements.qmark.style.display="block"}return a}
function xd(a){a.elements.qmark.style.display="none";a.elements.vc.style.display="none";a.elements.Gd.style.display="none";a.elements.Db.style.display="none";return a}f.M=function(){var a=this;a.K();a.p.M(a.mb,function(){a.u()});wd(xd(a));return this};v.m.S={};v.m.S.nc=function(a){return'<span class="'+$(a.c.qpointTag)+'" data-qid="'+$(a.qid)+'"></span>'};
v.m.S.panel=function(a){return'<div id="'+$(a.c.panel.container)+'"><div id="'+$(a.c.panel.entrance)+'"></div><ul id="'+$(a.c.panel.prelogin)+'"><li id="'+$(a.c.panel.sinalogin)+'"></li></ul><div id="'+$(a.c.panel.postlogin)+'"><a id="'+$(a.c.panel.icon)+'" href="'+$(a.url.gi)+'" target="_blank"></a>'+(a.f.uid?'<div id="'+$(a.c.panel.userinfo)+'"><a id="'+$(a.c.panel.avatarWrap)+'" href="'+$(a.url.Fd)+"/u/"+$(a.f.uid)+'" target="_blank"><img id="'+$(a.c.panel.avatar)+'" src="'+$(a.f.profile_image_url)+
'"></a></div>':"")+'<ul id="'+$(a.c.panel.setting.container)+'"><li id="'+$(a.c.panel.setting.title)+'">'+$(a.e.le)+'</li><li id="'+$(a.c.panel.setting.add)+'"><input type="checkbox" checked id="'+$(a.c.panel.setting.addInput)+'"><label for="'+$(a.c.panel.setting.addInput)+'">'+$(a.e.mg)+'</label></li><li id="'+$(a.c.panel.setting.like)+'"><input type="checkbox" checked id="'+$(a.c.panel.setting.likeInput)+'"><label for="'+$(a.c.panel.setting.likeInput)+'">'+$(a.e.ng)+'</label></li><li><input type="button" id="'+
$(a.c.panel.logout)+'" value="'+$(a.e.Vd)+'"></li></ul></div></div>'};v.m.S.qubi=function(a){return'<div id="'+$(a.c.qubi.container)+'"><span id="'+$(a.c.qubi.start)+'"></span><span id="'+$(a.c.qubi.end)+'"></span><div id="'+$(a.c.qmark.container)+'"><img id="'+$(a.c.qmark.icon)+'" src="'+$(a.url.w)+'/static/img/add_logo.png"><div id="'+$(a.c.qmark.text)+'"></div><div id="'+$(a.c.qmark.question)+'"></div><a id="'+$(a.c.qmark.prompt)+'" target="_blank" href="'+$(a.url.hh)+'">'+$(a.e.tg)+"</a></div></div>"};v.m.view.Zd=function(a,b,c){this.f=a;this.p=b;this.j=c;this.d=c.document;this.offset=v.h.k.offset;this.time=v.h.k.time;this.c=v.h.k.c;this.Ne=null};
(function(){var a=v.m.view.Zd;a.prototype.enable=function(){return this.create().u()};a.prototype.disable=function(){return this.K().qa()};a.prototype.create=function(){var a=mb(v.m.S.panel(v.b.ua({},v.h.k,{f:this.f.attributes})));v.b.g.o(this.c.container,this.d).appendChild(a);this.elements={panel:v.b.g.o(this.c.panel.container,this.d),entrance:v.b.g.o(this.c.panel.entrance,this.d),icon:v.b.g.o(this.c.panel.icon,this.d),postlogin:v.b.g.o(this.c.panel.postlogin,this.d),prelogin:v.b.g.o(this.c.panel.prelogin,
this.d),sinalogin:v.b.g.o(this.c.panel.sinalogin,this.d),userinfo:v.b.g.o(this.c.panel.userinfo,this.d),setting:v.b.g.o(this.c.panel.setting.container,this.d),logout:v.b.g.o(this.c.panel.logout,this.d),addInput:v.b.g.o(this.c.panel.setting.addInput,this.d),likeInput:v.b.g.o(this.c.panel.setting.likeInput,this.d)};this.ea=[[this.d,"click",this.Ab],[this.elements.entrance,[["mouseover",this.qh],["mouseout",this.ph]]],[this.elements.prelogin,[["mouseover",this.Ah],["mouseout",this.zh],["click",this.yh]]],
[this.elements.postlogin,"mouseout",this.xh],[this.elements.logout,"click",this.vh],[this.elements.addInput,"click",this.kh],[this.elements.likeInput,"click",this.rh]];var a=(this.j.screen.height-this.elements.postlogin.offsetHeight)*this.offset.Rf,c=this.elements.entrance.offsetWidth+this.offset.Sf;X(this.elements.entrance,0,a);X(this.elements.prelogin,c,a);X(this.elements.postlogin,0,a);return this};a.prototype.qa=function(){this.elements.panel.parentNode.removeChild(this.elements.panel);return this};
a.prototype.u=function(){v.b.H.wc(this.ea,this);return this};a.prototype.K=function(){v.b.H.Bc(this.ea,this);return this};a.prototype.Ab=function(){""!==this.elements.postlogin.style.width&&"0px"!==this.elements.postlogin.style.width&&this.ud()};a.prototype.qh=function(){this.f.attributes.uid?this.Zh():this.ef()};a.prototype.ph=function(){this.f.attributes.uid||this.sd()};a.prototype.Ah=function(){this.ef()};a.prototype.zh=function(){this.sd()};a.prototype.yh=function(){this.T("sina").sd()};a.prototype.vh=
function(){this.ud(1).logout()};a.prototype.xh=function(a){a.target===this.elements.postlogin&&this.ud()};a.prototype.kh=function(){this.p.ha("shareAdd",this.elements.addInput.checked);this.p.ha("rememberAdd",!1)};a.prototype.rh=function(){this.p.ha("shareLike",this.elements.likeInput.checked);this.p.ha("rememberLike",!1)};a.prototype.Zh=function(){var a=new rd(this.elements.entrance,[36,38],[0,0],300),c=new rd(this.elements.postlogin,[0,0],[134,204],300);a.play();setTimeout(function(){c.play()},
this.time.pg)};a.prototype.ud=function(a){var c=new rd(this.elements.postlogin,[134,204],[0,0],a||300),d=new rd(this.elements.entrance,[28,30],[36,38],a||300);c.play();setTimeout(function(){d.play()},this.time.If);return this};a.prototype.ef=function(){clearTimeout(this.Ne);this.elements.prelogin.style.display="block"};a.prototype.sd=function(){var a=this;this.Ne=setTimeout(function(){a.elements.prelogin.style.display="none"},this.time.Ef)};a.prototype.Ib=function(){return this.disable().enable()};
a.prototype.T=function(a,c){this.p.T(a,c);return this};a.prototype.logout=function(a){this.p.logout(a);return this};a.prototype.Hb=function(){this.elements.addInput.checked=this.f.attributes.config.shareAdd;this.elements.likeInput.checked=this.f.attributes.config.shareLike;return this}})();v.h.view.ke=function(a,b,c){this.f=a;this.p=b;this.j=c||window;this.d=this.j.document;this.offset=v.h.k.offset;this.time=v.h.k.time;this.c=v.h.k.c;this.Oe=this.rc=null};f=v.h.view.ke.prototype;f.enable=function(){return this.create().u()};f.disable=function(){return this.K().qa()};
f.create=function(){var a=v.b.g.o(this.c.container,this.d),b=mb(v.h.S.remember(v.h.k));a.appendChild(b);this.elements={remember:v.b.g.o(this.c.remember.container,this.d),shareInput:v.b.g.o(this.c.remember.shareInput,this.d),commitInput:v.b.g.o(this.c.remember.commitInput,this.d)};this.ea=[[this.elements.shareInput,"click",this.Ph],[this.elements.commitInput,"click",this.lh],[this.elements.remember,[["mouseover",this.oh],["mouseout",this.nh]]]];return this};
f.qa=function(){this.elements.remember.parentNode.removeChild(this.elements.remember);return this};f.u=function(){v.b.H.wc(this.ea,this);return this};f.K=function(){v.b.H.Bc(this.ea,this);return this};
f.Kb=function(a,b){var c,d,e;e=v.b.g.U(this.d);c=a.left;d=a.top+a.height;c+this.elements.remember.offsetWidth>this.j.innerWidth+e.x&&(c-=this.elements.remember.offsetWidth);d+this.elements.remember.offsetHeight>this.j.innerHeight+e.y&&(d-=this.elements.remember.offsetHeight);X(this.elements.remember,c,d);this.type="Add";this.elements.shareInput.checked=this.f.attributes.config.shareAdd;this.elements.commitInput.checked=!1;this.elements.remember.style.display="block";this.rc=b;Ed(this);return this};
f.Lb=function(a,b){var c,d,e;e=v.b.g.U(this.d);c=a.left;d=a.top+a.height;c+this.elements.remember.offsetWidth>this.j.innerWidth+e.x&&(c-=this.elements.remember.offsetWidth);d+this.elements.remember.offsetHeight>this.j.innerHeight+e.y&&(d-=this.elements.remember.offsetHeight);X(this.elements.remember,c,d);this.type="Like";this.elements.shareInput.checked=this.f.attributes.config.shareLike;this.elements.commitInput.checked=!1;this.elements.remember.style.display="block";this.rc=b;Ed(this);return this};
function Ed(a){a.Oe=setTimeout(function(){a.elements.remember.style.display="none";a.rc&&a.rc()},a.time.fg)}f.Ph=function(){this.p.ha("share"+this.type,this.elements.shareInput.checked)};f.lh=function(){this.p.ha("remember"+this.type,this.elements.commitInput.checked)};f.oh=function(a){a.target===this.elements.remember&&clearTimeout(this.Oe)};f.nh=function(a){a.target===this.elements.remember&&Ed(this)};v.h.view.be=function(a,b,c){this.p=b;this.f=a;this.r=null;this.j=c||window;this.d=this.j.document;this.offset=v.h.k.offset;this.time=v.h.k.time;this.c=v.h.k.c;this.lc=new v.b.H.Vb(this.xg,this.time.Ff,this);this.mc=new v.b.H.Vb(this.yg,this.time.Gf,this)};f=v.h.view.be.prototype;f.enable=function(){return this.create().u()};f.disable=function(){return this.K().qa()};
f.create=function(){var a=this.d.createElement("div"),b=v.b.g.o(this.c.container,this.d);a.id=this.c.qinfo.container;b.appendChild(a);this.elements={container:v.b.g.o(this.c.container),qinfo:a};this.ea=[[this.elements.container,"click",Kb],[this.elements.qinfo,[["mouseover",this.Ch],["mouseout",this.Bh]]],[this.d,"click",this.Ab]];return this};f.qa=function(){this.elements.qinfo.parentNode.removeChild(this.elements.qinfo);return this};f.u=function(){v.b.H.wc(this.ea,this);return this};
f.K=function(){v.b.H.Bc(this.ea,this);return this};
f.bb=function(a){this.r=a;this.elements.qinfo.innerHTML=v.h.S.qinfo(v.b.ua({},v.h.k,{uid:this.f.attributes.uid,r:this.r.attributes}));var b=v.b.g.o,c=v.b.g.gd;this.elements=v.b.ua(this.elements,{creator:b(this.c.qinfo.creator,this.d),followerWrap:b(this.c.qinfo.followerWrap,this.d),like:b(this.c.qinfo.like,this.d),prompt:b(this.c.qinfo.prompt,this.d),username:b(this.c.qinfo.username,this.d),creatorAvatar:c(this.c.qinfo.creatorAvatar,this.d),Cb:c(this.c.qinfo.qlink.entrance.container,this.d),Da:b(this.c.qinfo.qlink.wrap,
this.d),uc:c(this.c.qinfo.qlink.entrance.Pe,this.d)});if(this.r.attributes.qlinks&&0!==this.r.attributes.qlinks.length){switch(this.r.attributes.liked_count+(a.attributes.uid==a.attributes.user_simple.uid||a.attributes.liked?0:1)){case 0:case 1:this.elements.Da.style.width=Yc(this.offset.Vf,!0);break;case 2:this.elements.Da.style.width=Yc(this.offset.Wf,!0);break;case 3:this.elements.Da.style.width=Yc(this.offset.Xf,!0);break;default:this.elements.Da.style.width=Yc(this.offset.Yf,!0)}K.u(this.elements.Cb,
"mouseover",this.Eh,!1,this);K.u(this.elements.Cb,"mouseout",this.Dh,!1,this);K.u(this.elements.Da,"mouseover",this.Gh,!1,this);K.u(this.elements.Da,"mouseout",this.Fh,!1,this);this.elements.Cb.style.display="block"}K.u(this.elements.creator,"mouseover",this.Ve,!1,this);K.u(this.elements.creator,"mouseout",this.Ue,!1,this);a=this.elements.followerWrap.children;for(b=0;b<a.length;b++)a[b]&&(K.u(a[b],"mouseover",this.Ve,!1,this),K.u(a[b],"mouseout",this.Ue,!1,this));return this};
f.Md=function(a){this.lc.stop();var b=v.b.g.U(this.d),c=a.left+a.width/2,d=a.top+a.height+this.offset.Uf;c>b.x+this.j.innerWidth&&(c=a.left+a.width-this.elements.qinfo.offsetWidth);d>b.y+this.j.innerHeight&&(d=a.top+a.height-this.elements.qinfo.offsetHeight);X(this.elements.qinfo,c,d);this.elements.like&&(K.zb(this.elements.like,"click",this.sh,!1,this),K.u(this.elements.like,"mouseover",this.uh,!1,this),K.u(this.elements.like,"mouseout",this.th,!1,this));this.elements.qinfo.style.display="block";
return this};f.td=function(){this.lc.start()};f.xg=function(){this.elements.qinfo.style.display="none";return this};f.Ch=function(){this.lc.stop()};f.Bh=function(){this.lc.start()};f.sh=function(){this.p.aa(this.r)};f.uh=function(){this.elements.prompt.style.display="block"};f.th=function(){this.elements.prompt.style.display="none"};f.Ab=function(){this.elements.qinfo.style.display="none"};
f.Ve=function(a){var b=a.currentTarget.children[0].children[0],c=b.alt,d=b.className,b=dd(a.currentTarget),e=new F(a.currentTarget.offsetLeft,a.currentTarget.offsetTop),g=this.elements.username;if("textContent"in g)g.textContent=c;else if(g.firstChild&&3==g.firstChild.nodeType){for(;g.lastChild!=g.firstChild;)g.removeChild(g.lastChild);g.firstChild.data=c}else{for(var k;k=g.firstChild;)g.removeChild(k);g.appendChild(G(g).createTextNode(String(c)))}this.elements.username.style.display="block";d==this.c.qinfo.creatorAvatar?
(c=e.y+b.height,a=e.x-0.5*(this.elements.username.offsetWidth-b.width)):(c=e.y+this.offset.pf,a=a.currentTarget.parentElement.offsetLeft+e.x-0.5*(this.elements.username.offsetWidth-b.width));X(this.elements.username,a,c)};f.Ue=function(){this.elements.username.style.display="none"};f.Eh=function(a){this.ff||(a.target!==this.elements.Cb||a.relatedTarget===this.elements.uc)||((new qd(this.elements.uc,[6,17],[6,27],150)).play(),this.ff=!0,Fd(this))};
f.Dh=function(a){a.target===this.elements.Cb&&a.relatedTarget!==this.elements.uc&&this.mc.start()};f.Gh=function(){this.mc.stop()};f.Fh=function(){this.mc.start()};function Fd(a){a.mc.stop();setTimeout(function(){a.elements.Da.style.display="block"},110)}f.yg=function(){this.elements.Da.style.display="none";(new qd(this.elements.uc,[6,27],[6,17],150)).play();this.ff=!1;return this};v.m.view.fe=function(a,b,c,d){this.f=a;this.r=b;this.p=c;this.j=d;this.d=d.document;this.sc=[];this.time=v.h.k.time;this.c=v.h.k.c;this.cb()};
(function(){var a=v.m.view.fe;a.prototype.cb=function(){this.Tc({N:this.wg,timeout:this.time.tf})};a.prototype.wg=function(){this.Tc({N:this.ug,timeout:this.time.qf})};a.prototype.ug=function(){var a=this.r.attributes.qid;this.Tc({N:function(){v.a.yc(a)},timeout:0})};a.prototype.Tc=function(a){var c=this;a=a||{};var d=v.a.zd.ia(c.r.attributes,this.d);if(d){var e=c.r.attributes.qid.toString();v.a.qmark.nc(d,{qid:e});x(v.b.g.hd(this.c.qpointTag,this.d),function(a){a.getAttribute("data-qid")===e&&c.sc.push(a)},
c);c.u()}else setTimeout(function(){a.N.apply(c)},a.timeout)};a.prototype.Ra=function(){x(this.sc,function(a){var c=this.d.createDocumentFragment();x(a.childNodes,function(a){c.appendChild(a)});a.parentNode.replaceChild(c,a)},this);this.sc=[]};a.prototype.Oh=function(a){this.p.bb(this.r);this.p.Md(a.currentTarget)};a.prototype.Nh=function(){this.p.td()};a.prototype.u=function(){x(this.sc,function(a){K.u(a,"mouseover",this.Oh,!1,this);K.u(a,"mouseout",this.Nh,!1,this)},this)}})();v.m.view.Kc=function(a,b,c,d){this.f=a;this.L=b;this.controller=c;this.j=d;this.d=d.document;this.e=v.h.k.e;this.offset=v.h.k.offset;this.c=v.h.k.c;a=mb(v.h.S.container(v.h.k));this.j.document.body.appendChild(a);this.$a=new v.m.view.Zd(this.f,this,this.j);this.Eb=new v.m.view.he(this,this.j);this.Bb=new v.h.view.be(this.f,this,this.j);this.xc=new v.h.view.ke(this.f,this,this.j);this.Za=new v.h.view.Xd(this,this.j);v.a.qmark.config({Pd:function(a){return mb(v.m.S.nc(v.b.ua({},v.h.k,a)))}})};f=v.m.view.Kc.prototype;
f.enable=function(){this.$a.enable();var a=this.cd();a.Bb.enable();a.xc.enable();a.Za.enable();return a};f.disable=function(){var a=Gd(this).ad();a.Bb.disable();a.xc.disable();a.Za.disable();return a};function Gd(a){a.$a.disable();return a}f.cd=function(){this.Eb.enable();return this};f.ad=function(){this.Eb.disable();return this};f.M=function(a,b){this.controller.M(a,b);return this};
f.Yc=function(a){var b=this;b.Za.show(this.e.Hc,v.b.g.o(this.c.qmark.container,this.d));b.$a.T("sina",function(){b.f.attributes.uid&&b.controller.M(b.Eb.mb);a&&a()});return this};f.Wc=function(a){this.Za.show(this.e.Qd,v.b.g.o(this.c.qmark.container,this.d));a&&a();return this};f.Xc=function(a){this.Za.show(this.e.Rd,v.b.g.o(this.c.qmark.container,this.d));a&&a();return this};
f.Kb=function(a){var b,c,d,e,g={},k=this;e=v.b.g.o(this.c.qmark.container,this.d);c=this.Eb.mb;d=v.b.g.U(this.d);c.V()?(b=c.ta().x,c=c.ta().y):(b=c.sa().x,c=c.sa().y);b=b+d.x+this.offset.Tb;c=c+d.y+this.offset.Ub;b+e.offsetWidth>this.j.innerWidth+d.x&&(b=b-e.offsetWidth-this.offset.Tb);c+e.offsetHeight>this.j.innerHeight+d.y&&(c=c-e.offsetHeight-this.offset.Ub);g.left=b;g.top=c;g.width=e.offsetWidth;g.height=e.offsetHeight;this.xc.Kb(g,function(){k.controller.M(k.Eb.mb);a&&a()});return this};
f.cb=function(a){return new v.m.view.fe(this.f,a,this,this.j)};f.ob=function(a){return this.controller.ob(a)};f.aa=function(a){this.controller.aa(a);return this};f.xd=function(a){var b=this,c=a.attributes.qid;b.Za.show(this.e.Hc,v.b.g.o(this.c.qinfo.container,this.d));b.$a.T("sina",function(){b.f.attributes.uid&&(x(b.L.models,function(b){b.attributes.qid===c&&(a=b)}),b.controller.aa(a))});return this};
f.Lb=function(a){var b=dd(v.b.g.o(this.c.qinfo.like,this.d));b.left-=this.offset.gg;b.top+=this.offset.hg;this.xc.Lb(b,function(){a.controller.aa()});return this};f.bb=function(a){this.Bb.bb(a);return this};f.Md=function(a){this.Bb.Md(dd(a));return this};f.td=function(){this.Bb.td();return this};f.ha=function(a,b){this.controller.ha(a,b);return this};f.T=function(a,b){this.controller.T(a,b);return this};f.logout=function(a){this.controller.logout(a);return this};f.Ib=function(){this.$a.Ib();return this};
f.Hb=function(){this.$a.Hb();return this};f.Ra=function(a){a.view.Ra();return this};f.Zc=function(){x(this.L.models,function(a){a.view.Ra()})};function Hd(a){x(a.L.models,function(a){a.view.cb()})};v.fb.Ki={};
(function(){function a(b,c,d,g){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b instanceof e&&(b=b.Qa);c instanceof e&&(c=c.Qa);var u=D.call(b);if(u!=D.call(c))return!1;switch(u){case "[object String]":return b==String(c);case "[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case "[object Date]":case "[object Boolean]":return+b==+c;case "[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||
"object"!=typeof c)return!1;for(var t=d.length;t--;)if(d[t]==b)return g[t]==c;d.push(b);g.push(c);var t=0,k=!0;if("[object Array]"==u){if(t=b.length,k=t==c.length)for(;t--&&(k=a(b[t],c[t],d,g)););}else{var u=b.constructor,P=c.constructor;if(u!==P&&!(e.isFunction(u)&&u instanceof u&&e.isFunction(P)&&P instanceof P))return!1;for(var Y in b)if(e.has(b,Y)&&(t++,!(k=e.has(c,Y)&&a(b[Y],c[Y],d,g))))break;if(k){for(Y in c)if(e.has(c,Y)&&!t--)break;k=!t}}d.pop();g.pop();return k}function b(a,c,d){A(a,function(a){e.isArray(a)?
c?n.apply(d,a):b(a,c,d):d.push(a)});return d}function c(a,b,c,g){var u={},t=d(b||e.identity);A(a,function(b,e){var d=t.call(c,b,e,a);g(u,d,b)});return u}function d(a){return e.isFunction(a)?a:function(b){return b[a]}}function e(a){if(a instanceof e)return a;if(!(this instanceof e))return new e(a);this.Qa=a}var g=this,k=g.Xb,m={},p=Array.prototype,s=Object.prototype,n=p.push,r=p.slice,J=p.concat,D=s.toString,Ua=s.hasOwnProperty,M=p.forEach,Da=p.map,pa=p.reduce,u=p.reduceRight,t=p.filter,P=p.every,
Y=p.some,Jb=p.indexOf,$c=p.lastIndexOf,s=Array.isArray,Kd=Object.keys,lc=Function.prototype.bind;"undefined"!==typeof exports?("undefined"!==typeof module&&module.Ce&&(exports=module.Ce=e),exports.Xb=e):g.Xb=e;e.VERSION="1.4.4";var A=e.each=e.forEach=function(a,b,c){if(null!=a)if(M&&a.forEach===M)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,g=a.length;d<g&&b.call(c,a[d],d,a)!==m;d++);else for(d in a)if(e.has(a,d)&&b.call(c,a[d],d,a)===m)break};e.map=e.collect=function(a,b,c){var e=[];if(null==
a)return e;if(Da&&a.map===Da)return a.map(b,c);A(a,function(a,d,g){e[e.length]=b.call(c,a,d,g)});return e};e.reduce=e.foldl=e.inject=function(a,b,c,d){var g=2<arguments.length;null==a&&(a=[]);if(pa&&a.reduce===pa)return d&&(b=e.bind(b,d)),g?a.reduce(b,c):a.reduce(b);A(a,function(a,e,Jd){g?c=b.call(d,c,a,e,Jd):(c=a,g=!0)});if(!g)throw new TypeError("Reduce of empty array with no initial value");return c};e.reduceRight=e.foldr=function(a,b,c,d){var g=2<arguments.length;null==a&&(a=[]);if(u&&a.reduceRight===
u)return d&&(b=e.bind(b,d)),g?a.reduceRight(b,c):a.reduceRight(b);var t=a.length;if(t!==+t)var k=e.keys(a),t=k.length;A(a,function(e,u,P){u=k?k[--t]:--t;g?c=b.call(d,c,a[u],u,P):(c=a[u],g=!0)});if(!g)throw new TypeError("Reduce of empty array with no initial value");return c};e.find=e.detect=function(a,b,c){var e;ad(a,function(a,d,g){if(b.call(c,a,d,g))return e=a,!0});return e};e.filter=e.select=function(a,b,c){var e=[];if(null==a)return e;if(t&&a.filter===t)return a.filter(b,c);A(a,function(a,d,
g){b.call(c,a,d,g)&&(e[e.length]=a)});return e};e.reject=function(a,b,c){return e.filter(a,function(a,e,d){return!b.call(c,a,e,d)},c)};e.every=e.all=function(a,b,c){b||(b=e.identity);var d=!0;if(null==a)return d;if(P&&a.every===P)return a.every(b,c);A(a,function(a,e,g){if(!(d=d&&b.call(c,a,e,g)))return m});return!!d};var ad=e.some=e.any=function(a,b,c){b||(b=e.identity);var d=!1;if(null==a)return d;if(Y&&a.some===Y)return a.some(b,c);A(a,function(a,e,g){if(d||(d=b.call(c,a,e,g)))return m});return!!d};
e.contains=e.include=function(a,b){return null==a?!1:Jb&&a.indexOf===Jb?-1!=a.indexOf(b):ad(a,function(a){return a===b})};e.invoke=function(a,b){var c=r.call(arguments,2),d=e.isFunction(b);return e.map(a,function(a){return(d?b:a[b]).apply(a,c)})};e.pluck=function(a,b){return e.map(a,function(a){return a[b]})};e.where=function(a,b,c){return e.isEmpty(b)?c?null:[]:e[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};e.findWhere=function(a,b){return e.where(a,b,!0)};
e.max=function(a,b,c){if(!b&&e.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&e.isEmpty(a))return-Infinity;var d={rb:-Infinity,value:-Infinity};A(a,function(a,e,g){e=b?b.call(c,a,e,g):a;e>=d.rb&&(d={value:a,rb:e})});return d.value};e.min=function(a,b,c){if(!b&&e.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&e.isEmpty(a))return Infinity;var d={rb:Infinity,value:Infinity};A(a,function(a,e,g){e=b?b.call(c,a,e,g):a;e<d.rb&&(d={value:a,rb:e})});
return d.value};e.shuffle=function(a){var b,c=0,d=[];A(a,function(a){b=e.random(c++);d[c-1]=d[b];d[b]=a});return d};e.sortBy=function(a,b,c){var g=d(b);return e.pluck(e.map(a,function(a,b,d){return{value:a,index:b,ye:g.call(c,a,b,d)}}).sort(function(a,b){var c=a.ye,d=b.ye;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};e.groupBy=function(a,b,d){return c(a,b,d,function(a,b,c){(e.has(a,b)?a[b]:a[b]=[]).push(c)})};e.countBy=function(a,b,d){return c(a,
b,d,function(a,b){e.has(a,b)||(a[b]=0);a[b]++})};e.sortedIndex=function(a,b,c,g){c=null==c?e.identity:d(c);b=c.call(g,b);for(var u=0,t=a.length;u<t;){var k=u+t>>>1;c.call(g,a[k])<b?u=k+1:t=k}return u};e.toArray=function(a){return a?e.isArray(a)?r.call(a):a.length===+a.length?e.map(a,e.identity):e.values(a):[]};e.size=function(a){return null==a?0:a.length===+a.length?a.length:e.keys(a).length};e.first=e.head=e.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:r.call(a,0,b)};e.initial=function(a,
b,c){return r.call(a,0,a.length-(null==b||c?1:b))};e.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:r.call(a,Math.max(a.length-b,0))};e.rest=e.tail=e.drop=function(a,b,c){return r.call(a,null==b||c?1:b)};e.compact=function(a){return e.filter(a,e.identity)};e.flatten=function(a,c){return b(a,c,[])};e.without=function(a){return e.difference(a,r.call(arguments,1))};e.uniq=e.unique=function(a,b,c,d){e.isFunction(b)&&(d=c,c=b,b=!1);c=c?e.map(a,c,d):a;var g=[],u=[];A(c,function(c,d){(b?
d&&u[u.length-1]===c:e.contains(u,c))||(u.push(c),g.push(a[d]))});return g};e.union=function(){return e.uniq(J.apply(p,arguments))};e.intersection=function(a){var b=r.call(arguments,1);return e.filter(e.uniq(a),function(a){return e.every(b,function(b){return 0<=e.indexOf(b,a)})})};e.difference=function(a){var b=J.apply(p,r.call(arguments,1));return e.filter(a,function(a){return!e.contains(b,a)})};e.zip=function(){for(var a=r.call(arguments),b=e.max(e.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=
e.pluck(a,""+d);return c};e.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};e.indexOf=function(a,b,c){if(null==a)return-1;var d=0,g=a.length;if(c)if("number"==typeof c)d=0>c?Math.max(0,g+c):c;else return d=e.sortedIndex(a,b),a[d]===b?d:-1;if(Jb&&a.indexOf===Jb)return a.indexOf(b,c);for(;d<g;d++)if(a[d]===b)return d;return-1};e.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if($c&&a.lastIndexOf===$c)return d?a.lastIndexOf(b,
c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};e.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,g=Array(d);e<d;)g[e++]=a,a+=c;return g};e.bind=function(a,b){if(a.bind===lc&&lc)return lc.apply(a,r.call(arguments,1));var c=r.call(arguments,2);return function(){return a.apply(b,c.concat(r.call(arguments)))}};e.partial=function(a){var b=r.call(arguments,1);return function(){return a.apply(this,b.concat(r.call(arguments)))}};
e.bindAll=function(a){var b=r.call(arguments,1);0===b.length&&(b=e.functions(a));A(b,function(b){a[b]=e.bind(a[b],a)});return a};e.memoize=function(a,b){var c={};b||(b=e.identity);return function(){var d=b.apply(this,arguments);return e.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};e.delay=function(a,b){var c=r.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};e.defer=function(a){return e.delay.apply(e,[a,1].concat(r.call(arguments,1)))};e.throttle=function(a,b){function c(){t=
new Date;g=null;u=a.apply(d,e)}var d,e,g,u,t=0;return function(){var k=new Date,P=b-(k-t);d=this;e=arguments;0>=P?(clearTimeout(g),g=null,t=k,u=a.apply(d,e)):g||(g=setTimeout(c,P));return u}};e.debounce=function(a,b,c){var d,e;return function(){var g=this,u=arguments,t=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(e=a.apply(g,u))},b);t&&(e=a.apply(g,u));return e}};e.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};e.wrap=function(a,
b){return function(){var c=[a];n.apply(c,arguments);return b.apply(this,c)}};e.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};e.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};e.keys=Kd||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)e.has(a,c)&&(b[b.length]=c);return b};e.values=function(a){var b=[],c;for(c in a)e.has(a,c)&&b.push(a[c]);
return b};e.pairs=function(a){var b=[],c;for(c in a)e.has(a,c)&&b.push([c,a[c]]);return b};e.invert=function(a){var b={},c;for(c in a)e.has(a,c)&&(b[a[c]]=c);return b};e.functions=e.methods=function(a){var b=[],c;for(c in a)e.isFunction(a[c])&&b.push(c);return b.sort()};e.extend=function(a){A(r.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};e.pick=function(a){var b={},c=J.apply(p,r.call(arguments,1));A(c,function(c){c in a&&(b[c]=a[c])});return b};e.omit=function(a){var b=
{},c=J.apply(p,r.call(arguments,1)),d;for(d in a)e.contains(c,d)||(b[d]=a[d]);return b};e.defaults=function(a){A(r.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])});return a};e.clone=function(a){return e.isObject(a)?e.isArray(a)?a.slice():e.extend({},a):a};e.tap=function(a,b){b(a);return a};e.isEqual=function(b,c){return a(b,c,[],[])};e.isEmpty=function(a){if(null==a)return!0;if(e.isArray(a)||e.isString(a))return 0===a.length;for(var b in a)if(e.has(a,b))return!1;return!0};
e.isElement=function(a){return!(!a||1!==a.nodeType)};e.isArray=s||function(a){return"[object Array]"==D.call(a)};e.isObject=function(a){return a===Object(a)};A("Arguments Function String Number Date RegExp".split(" "),function(a){e["is"+a]=function(b){return D.call(b)=="[object "+a+"]"}});e.isArguments(arguments)||(e.isArguments=function(a){return!(!a||!e.has(a,"callee"))});"function"!==typeof/./&&(e.isFunction=function(a){return"function"===typeof a});e.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};
e.isNaN=function(a){return e.isNumber(a)&&a!=+a};e.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==D.call(a)};e.isNull=function(a){return null===a};e.isUndefined=function(a){return void 0===a};e.has=function(a,b){return Ua.call(a,b)};e.noConflict=function(){g.Xb=k;return this};e.identity=aa();e.times=function(a,b,c){for(var d=Array(a),e=0;e<a;e++)d[e]=b.call(c,e);return d};e.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var E={escape:{"&":"&amp;",
"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};E.unescape=e.invert(E.escape);var Ld={escape:RegExp("["+e.keys(E.escape).join("")+"]","g"),unescape:RegExp("("+e.keys(E.unescape).join("|")+")","g")};e.each(["escape","unescape"],function(a){e[a]=function(b){return null==b?"":(""+b).replace(Ld[a],function(b){return E[a][b]})}});e.result=function(a,b){if(null==a)return null;var c=a[b];return e.isFunction(c)?c.call(a):c};e.mixin=function(a){A(e.functions(a),function(b){var c=e[b]=a[b];e.prototype[b]=
function(){var a=[this.Qa];n.apply(a,arguments);a=c.apply(e,a);return this.Pc?e(a).chain():a}})};var Md=0;e.uniqueId=function(a){var b=++Md+"";return a?a+b:b};e.ci={evaluate:/<%([\s\S]+?)%>/g,eh:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var mc=/(.)^/,Nd={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},Od=/\\|'|\r|\n|\t|\u2028|\u2029/g;e.template=function(a,b,c){function d(a){return g.call(this,a,e)}var g;c=e.defaults({},c,e.ci);var u=0,t="__p+='";a.replace(RegExp([(c.escape||
mc).source,(c.eh||mc).source,(c.evaluate||mc).source].join("|")+"|$","g"),function(b,c,d,e,g){t+=a.slice(u,g).replace(Od,function(a){return"\\"+Nd[a]});c&&(t+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");d&&(t+="'+\n((__t=("+d+"))==null?'':__t)+\n'");e&&(t+="';\n"+e+"\n__p+='");u=g+b.length;return b});t+="';\n";c.hf||(t="with(obj||{}){\n"+t+"}\n");t="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+t+"return __p;\n";try{g=new Function(c.hf||"obj","_",
t)}catch(k){throw k.source=t,k;}if(b)return g(b,e);d.source="function("+(c.hf||"obj")+"){\n"+t+"}";return d};e.chain=function(a){return e(a).chain()};e.mixin(e);A("pop push reverse shift sort splice unshift".split(" "),function(a){var b=p[a];e.prototype[a]=function(){var c=this.Qa;b.apply(c,arguments);"shift"!=a&&"splice"!=a||0!==c.length||delete c[0];return this.Pc?e(c).chain():c}});A(["concat","join","slice"],function(a){var b=p[a];e.prototype[a]=function(){var a=b.apply(this.Qa,arguments);return this.Pc?
e(a).chain():a}});e.extend(e.prototype,{chain:function(){this.Pc=!0;return this},value:ca("Qa")})}).call(this);v.fb.Qb={};
(function(){function a(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}}function b(a,b){var c,d=-1,e=a.length,g=b[0],k=b[1],n=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).N.call(c.sb);break;case 1:for(;++d<e;)(c=a[d]).N.call(c.sb,g);break;case 2:for(;++d<e;)(c=a[d]).N.call(c.sb,g,k);break;case 3:for(;++d<e;)(c=a[d]).N.call(c.sb,g,k,n);break;default:for(;++d<e;)(c=a[d]).N.apply(c.sb,b)}}function c(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var e in c)a[b].apply(a,[e,
c[e]].concat(d));return!1}if(J.test(c)){c=c.split(J);e=0;for(var g=c.length;e<g;e++)a[b].apply(a,[c[e]].concat(d));return!1}return!0}var d=this,e=d.Qb,g=[],k=g.push,m=g.slice,p=g.splice,s;s="undefined"!==typeof exports?exports:d.Qb={};s.VERSION="1.0.0";var n=d.Xb;n||"undefined"===typeof require||(n=require("underscore"));s.$=d.gj||d.Li||d.Wi||d.$;s.noConflict=function(){d.Qb=e;return this};s.emulateHTTP=!1;s.emulateJSON=!1;var r=s.Events={on:function(a,b,d){if(!c(this,"on",a,[b,d])||!b)return this;
this.X||(this.X={});(this.X[a]||(this.X[a]=[])).push({N:b,$c:d,sb:d||this});return this},once:function(a,b,d){if(!c(this,"once",a,[b,d])||!b)return this;var e=this,g=n.once(function(){e.off(a,g);b.apply(this,arguments)});g.vg=b;return this.on(a,g,d)},off:function(a,b,d){var e,g,k,m,p,r,s,E;if(!this.X||!c(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this.X={},this;m=a?[a]:n.keys(this.X);p=0;for(r=m.length;p<r;p++)if(a=m[p],k=this.X[a]){this.X[a]=e=[];if(b||d)for(s=0,E=k.length;s<E;s++)g=k[s],
(b&&b!==g.N&&b!==g.N.vg||d&&d!==g.$c)&&e.push(g);e.length||delete this.X[a]}return this},trigger:function(a){if(!this.X)return this;var d=m.call(arguments,1);if(!c(this,"trigger",a,d))return this;var e=this.X[a],g=this.X.all;e&&b(e,d);g&&b(g,arguments);return this},stopListening:function(a,b,c){var d=this.Rc;if(!d)return this;var e=!b&&!c;"object"===typeof b&&(c=this);a&&((d={})[a.pe]=a);for(var g in d)d[g].off(b,c,this),e&&delete this.Rc[g];return this}},J=/\s+/;n.each({listenTo:"on",listenToOnce:"once"},
function(a,b){r[b]=function(b,c,d){var e=this.Rc||(this.Rc={}),g=b.pe||(b.pe=n.uniqueId("l"));e[g]=b;"object"===typeof c&&(d=this);b[a](c,d,this);return this}});r.bind=r.on;r.unbind=r.off;n.extend(s,r);var D=s.Model=function(a,b){var c,d=a||{};b||(b={});this.cid=n.uniqueId("c");this.attributes={};n.extend(this,n.pick(b,Ua));b.parse&&(d=this.parse(d,b)||{});if(c=n.result(this,"defaults"))d=n.defaults({},d,c);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)},Ua=["url","urlRoot","collection"];
n.extend(D.prototype,r,{changed:null,validationError:null,idAttribute:"id",initialize:ba(),toJSON:function(){return n.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return n.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,g,k,m,p,r;if(null==a)return this;"object"===typeof a?(e=a,c=b):(e={})[a]=b;c||(c={});if(!this.Zb(e,c))return!1;g=c.unset;k=c.Ma;a=[];m=this.Qc;this.Qc=
!0;m||(this.lb=n.clone(this.attributes),this.changed={});r=this.attributes;p=this.lb;this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],n.isEqual(r[d],b)||a.push(d),n.isEqual(p[d],b)?delete this.changed[d]:this.changed[d]=b,g?delete r[d]:r[d]=b;if(!k)for(a.length&&(this.Sc=!0),b=0,d=a.length;b<d;b++)this.trigger("change:"+a[b],this,r[a[b]],c);if(m)return this;if(!k)for(;this.Sc;)this.Sc=!1,this.trigger("change",this,c);this.Qc=this.Sc=!1;return this},unset:function(a,b){return this.set(a,
void 0,n.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,n.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!n.isEmpty(this.changed):n.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?n.clone(this.changed):!1;var b,c=!1,d=this.Qc?this.lb:this.attributes,e;for(e in a)n.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this.lb?this.lb[a]:null},previousAttributes:function(){return n.clone(this.lb)},
fetch:function(b){b=b?n.clone(b):{};void 0===b.parse&&(b.parse=!0);var c=this,d=b.success;b.success=function(a){if(!c.set(c.parse(a,b),b))return!1;d&&d(c,a,b);c.trigger("sync",c,a,b)};a(this,b);return this.sync("read",this,b)},save:function(b,c,d){var e,g=this.attributes;null==b||"object"===typeof b?(e=b,d=c):(e={})[b]=c;if(e&&!(d&&d.Na||this.set(e,d)))return!1;d=n.extend({validate:!0},d);if(!this.Zb(e,d))return!1;e&&d.Na&&(this.attributes=n.extend({},g,e));void 0===d.parse&&(d.parse=!0);var k=this,
m=d.success;d.success=function(a){k.attributes=g;var b=k.parse(a,d);d.Na&&(b=n.extend(e||{},b));if(n.isObject(b)&&!k.set(b,d))return!1;m&&m(k,a,d);k.trigger("sync",k,a,d)};a(this,d);b=this.isNew()?"create":d.oj?"patch":"update";"patch"===b&&(d.Ri=e);b=this.sync(b,this,d);e&&d.Na&&(this.attributes=g);return b},destroy:function(b){function c(){d.trigger("destroy",d,d.Sa,b)}b=b?n.clone(b):{};var d=this,e=b.success;b.success=function(a){(b.Na||d.isNew())&&c();e&&e(d,a,b);d.isNew()||d.trigger("sync",d,
a,b)};if(this.isNew())return b.success(),!1;a(this,b);var g=this.sync("delete",this,b);b.Na||c();return g},url:function(){var a;if(!(a=n.result(this,"urlRoot"))&&!(a=n.result(this.Sa,"url")))throw Error('A "url" property or function must be specified');return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:aa(),clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this.Zb({},n.extend(a||
{},{validate:!0}))},Zb:function(a,b){if(!b.validate||!this.validate)return!0;a=n.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,n.extend(b||{},{validationError:c}));return!1}});n.each("keys values pairs invert pick omit".split(" "),function(a){D.prototype[a]=function(){var b=m.call(arguments);b.unshift(this.attributes);return n[a].apply(n,b)}});var M=s.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&
(this.model=b.model);void 0!==b.da&&(this.da=b.da);this.ue();this.initialize.apply(this,arguments);a&&this.reset(a,n.extend({Ma:!0},b))},Da={add:!0,remove:!0,Te:!0},pa={add:!0,Te:!1,remove:!1};n.extend(M.prototype,r,{model:D,initialize:ba(),toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return s.sync.apply(this,arguments)},add:function(a,b){return this.set(a,n.defaults(b||{},pa))},remove:function(a,b){a=n.isArray(a)?a.slice():[a];b||(b={});var c,d,e,g;c=0;for(d=
a.length;c<d;c++)if(g=this.get(a[c]))delete this.Ga[g.id],delete this.Ga[g.cid],e=this.indexOf(g),this.models.splice(e,1),this.length--,b.Ma||(b.index=e,g.trigger("remove",g,this,b)),this.te(g);return this},set:function(a,b){b=n.defaults(b||{},Da);b.parse&&(a=this.parse(a,b));n.isArray(a)||(a=a?[a]:[]);var c,d,e,g,m,r=b.at,s=this.da&&null==r&&!1!==b.sort,D=n.isString(this.da)?this.da:null,E=[],J=[],M={};c=0;for(d=a.length;c<d;c++)if(e=this.Yb(a[c],b))(g=this.get(e))?(b.remove&&(M[g.cid]=!0),b.Te&&
(g.set(e.attributes,b),s&&(!m&&g.hasChanged(D))&&(m=!0))):b.add&&(E.push(e),e.on("all",this.qe,this),this.Ga[e.cid]=e,null!=e.id&&(this.Ga[e.id]=e));if(b.remove){c=0;for(d=this.length;c<d;++c)M[(e=this.models[c]).cid]||J.push(e);J.length&&this.remove(J,b)}E.length&&(s&&(m=!0),this.length+=E.length,null!=r?p.apply(this.models,[r,0].concat(E)):k.apply(this.models,E));m&&this.sort({Ma:!0});if(b.Ma)return this;c=0;for(d=E.length;c<d;c++)(e=E[c]).trigger("add",e,this,b);m&&this.trigger("sort",this,b);
return this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;c<d;c++)this.te(this.models[c]);b.previousModels=this.models;this.ue();this.add(a,n.extend({Ma:!0},b));b.Ma||this.trigger("reset",this,b);return this},push:function(a,b){a=this.Yb(a,b);this.add(a,n.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this.Yb(a,b);this.add(a,n.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,
a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this.Ga[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return n.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.da)throw Error("Cannot sort a set without a comparator");a||(a={});n.isString(this.da)||1===this.da.length?this.models=
this.sortBy(this.da,this):this.models.sort(n.bind(this.da,this));a.Ma||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.da);var d=n.isFunction(b)?b:function(a){return a.get(b)};return n.sortedIndex(this.models,a,d,c)},pluck:function(a){return n.invoke(this.models,"get",a)},fetch:function(b){b=b?n.clone(b):{};void 0===b.parse&&(b.parse=!0);var c=b.success,d=this;b.success=function(a){d[b.reset?"reset":"set"](a,b);c&&c(d,a,b);d.trigger("sync",d,a,b)};a(this,b);return this.sync("read",
this,b)},create:function(a,b){b=b?n.clone(b):{};if(!(a=this.Yb(a,b)))return!1;b.Na||this.add(a,b);var c=this,d=b.success;b.success=function(e){b.Na&&c.add(a,b);d&&d(a,e,b)};a.save(null,b);return a},parse:aa(),clone:function(){return new this.constructor(this.models)},ue:function(){this.length=0;this.models=[];this.Ga={}},Yb:function(a,b){if(a instanceof D)return a.Sa||(a.Sa=this),a;b||(b={});b.Sa=this;var c=new this.model(a,b);return c.Zb(a,b)?c:(this.trigger("invalid",this,a,b),!1)},te:function(a){this===
a.Sa&&delete a.Sa;a.off("all",this.qe,this)},qe:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this.Ga[b.previous(b.idAttribute)],null!=b.id&&(this.Ga[b.id]=b)),this.trigger.apply(this,arguments)}});n.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),
function(a){M.prototype[a]=function(){var b=m.call(arguments);b.unshift(this.models);return n[a].apply(n,b)}});n.each(["groupBy","countBy","sortBy"],function(a){M.prototype[a]=function(b,c){var d=n.isFunction(b)?b:function(a){return a.get(b)};return n[a](this.models,d,c)}});D.extend=M.extend=function(a,b){function c(){this.constructor=e}var d=this,e;e=a&&n.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)};n.extend(e,d,b);c.prototype=d.prototype;e.prototype=new c;a&&n.extend(e.prototype,
a);e.Mi=d.prototype;return e}}).call(this);window.Backbone=window.Qb;Backbone.Collection=Backbone.Collection;Backbone.Collection.extend=Backbone.Collection.extend;Backbone.Model=Backbone.Model;Backbone.Model.extend=Backbone.Model.extend;v.a.model={};v.a.model.dg=Backbone.Model.extend({idAttribute:"qid"});v.a.model.ee=Backbone.Collection.extend({model:v.a.model.dg});v.a.model.sg=Backbone.Model.extend({idAttribute:"uid"});v.m.wa=function(){var a=new v.a.model.sg,b=new v.a.model.ee;this.Dc=[];this.controllers=[];var c=new v.m.controller.Jc(a,b,window),b=new v.m.view.Kc(a,b,c,window);b.enable();c.enable().initialize(b);this.Dc.push(b);this.controllers.push(c);var d=ib();x(Id(this,window),function(b){d&&b.document.getElementsByTagName("head")[0].appendChild(d.cloneNode());var c=new v.a.model.ee,k=new v.m.controller.Jc(a,c,b),m=new v.m.view.Kc(a,c,k,b);m.enable();k.enable().initialize(m,function(){Gd(m);k.ze()});this.Dc.push(m);
this.controllers.push(k)},this)};function Id(a,b){var c=[];x(kb("iframe",null,b.document),function(a){c.push(a)});x(kb("frame",null,b.document),function(a){c.push(a)});var d=ta(c,function(a){return 0===a.src.indexOf(v.b.H.ah())&&(a.contentWindow||lb(a.contentDocument||a.contentWindow.document)).location.href===a.src&&0!==a.src.indexOf(v.a.k.Nc)}),e=[];x(d,function(a){a&&(e.push(b=a.contentWindow||lb(a.contentDocument||a.contentWindow.document)),e=ya(e,Id(this,b)))},a);return e}
v.m.wa.prototype.enable=function(){x(this.Dc,function(a){a.enable();Hd(a)});x(this.controllers,function(a){a.enable()})};v.m.wa.prototype.disable=function(){x(this.Dc,function(a){a.disable();a.Zc()});x(this.controllers,function(a){a.disable()})};"undefined"!==typeof _pintex&&_pintex.auto&&new v.m.wa;window.pintex=v;v.qfo=v.m;v.m.Qfo=v.m.wa;v.m.wa.prototype.enable=v.m.wa.prototype.enable;v.m.wa.prototype.disable=v.m.wa.prototype.disable;v.m.lj={};}).call(this);
